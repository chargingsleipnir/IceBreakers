{"version":3,"sources":["components/Join.js","Consts.js","components/Lobby/UserIdent.js","components/Lobby/Users/User.js","components/Lobby/Users/Users.js","components/Lobby/Chat/InfoBar.js","components/Lobby/Chat/Message.js","components/Lobby/Chat/Chat.js","components/Lobby/IceBreakerSelection.js","components/PageSelection.js","components/LoadBar.js","components/ImgUpload.js","App.js","index.js","images/SpeechlessGuy.png"],"names":["socket","pages","UserIdent","name","imgSrc","className","src","defaultImg","alt","User","user","LikeUserToggle","ToPageChat","html_likeBtnVisual","likeThem","mutual","likesMe","html_SpeechBtnVisual","html_UnreadMsgNotif","unreadMsg","onClick","id","disabled","Users","users","scrollViewClassName","map","i","key","InfoBar","ToPageUsers","user_Chat","user_Chat_Active","Message","message","msgText","fromSender","console","log","ReactEmoji","emojify","Chat","state","event","preventDefault","this","props","emit","chatPtnrID","warn","OnSendMessage","setState","messages","type","placeholder","value","onChange","target","onKeyPress","SendMessage","class","Component","ChooseIceBreaker","PageSelection","page","on","userID","removeIndex","findIndex","splice","userData","socketID","changeIndex","length","data","senderID","push","willBeRead","bind","isLiked","prevState","elem","userToID","LoadBar","percent","barStyle","width","role","style","aria-valuenow","aria-valuemin","aria-valuemax","URL","window","webkitURL","extArr","ImgUpload","GetImgDetails","loadFile","useState","SetSrc","html_LoadBar","accept","capture","files","fname","ext","slice","lastIndexOf","indexOf","file","img","Image","onload","height","createObjectURL","alert","document","getElementById","click","io","Join","nameField","React","createRef","SetExt","SetFile","SetPercent","SetDisabled","signedIn","SetSignedIn","ref","current","resObj","place","currentSlice","Math","min","size","pct","fileReader","readAsArrayBuffer","evt","readAsDataURL","FileReader","result","App","path","exact","component","ReactDOM","render","querySelector","module","exports"],"mappings":"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","file":"static/js/main.62481305.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport io from 'socket.io-client';\r\nimport { ENDPOINT, SLICE_SIZE } from '../Consts';\r\n\r\nimport PageSelection from './PageSelection';\r\nimport ImgUpload from './ImgUpload';\r\n\r\nlet socket;\r\nsocket = io(ENDPOINT);\r\n\r\nconst Join = () => {\r\n    const nameField = React.createRef();\r\n\r\n    const [ext, SetExt] = useState('');\r\n    const [file, SetFile] = useState(null);\r\n    const [src, SetSrc] = useState('');\r\n    const [percent, SetPercent] = useState(0);\r\n    const [disabled, SetDisabled] = useState(false);\r\n    const [signedIn, SetSignedIn] = useState(false);\r\n\r\n    const submitProfile = (event) => {\r\n        event.preventDefault();\r\n        const name = nameField.current.value;\r\n        \r\n        if(name === '') {\r\n            alert(\"Name required\");\r\n            return;\r\n        }\r\n\r\n        SetDisabled(true);\r\n\r\n        console.log(`Submit clicked - Name: ${name}, Ext: ${ext}, src: ${src}, file:`, file);\r\n\r\n        if(file === null) {\r\n            socket.emit('AddUser', { name, ext }, () => {\r\n                SetSignedIn(true);\r\n            });\r\n        }\r\n        else {\r\n            socket.on('ImageReqSlice', (resObj) => {\r\n                let place = resObj.currentSlice * SLICE_SIZE;\r\n                let slice = file.slice(place, place + Math.min(SLICE_SIZE, file.size - place)); \r\n\r\n                const pct = (place / file.size) * 100;\r\n                // Progress bar\r\n                //console.log(pct);\r\n                SetPercent(pct);\r\n\r\n                fileReader.readAsArrayBuffer(slice);\r\n            });\r\n            socket.on('ImageUploadError', (resObj) => {\r\n                console.log('Could not upload image');\r\n                SetFile(null);\r\n                // Progress bar\r\n                SetPercent(0);\r\n            });\r\n            socket.on('ImageUploadEnd', (resObj) => {\r\n                fileReader.onload = (evt) => {\r\n                    console.log('Image upload successful');\r\n                    SetFile(null);\r\n                    // Progress bar\r\n                    SetPercent(100);\r\n\r\n                    socket.emit('AddUser', { name, ext }, () => {\r\n                        SetSignedIn(true);\r\n                    });\r\n                };\r\n                fileReader.readAsDataURL(file);\r\n            });\r\n\r\n            // Start image upload, adding user officially at the end.\r\n            const slice = file.slice(0, SLICE_SIZE);\r\n            const fileReader = new FileReader();\r\n            fileReader.onload = (event) => {\r\n                socket.emit('ImageUploadSlice', { ext, name, type: file.type, size: file.size, data: event.target.result });\r\n            };\r\n            fileReader.readAsArrayBuffer(slice);\r\n        }\r\n    };\r\n\r\n    const GetImgDetails = (ext, file, src) => {\r\n        console.log(`Ext: ${ext}, src: ${src}, file:`, file);\r\n        SetExt(ext);\r\n        SetFile(file);\r\n        SetSrc(src);\r\n    };\r\n\r\n    // The elements on this page have been disabled, implies that the submit button was hit.\r\n    const loadFile = disabled && file !== null;\r\n\r\n    //console.log(`Main body called in Join.js`);\r\n\r\n    return (\r\n        signedIn ? (\r\n            <PageSelection socket={socket} />\r\n        ) : (\r\n            <div className=\"position-relative h-100\">\r\n                <div className=\"container-fluid h-100 d-flex flex-column justify-content-center align-items-center\">\r\n                    <div>\r\n                        <h1 className=\"text-center text-white\">Welcome</h1>\r\n                        <hr className=\"bg-light\" />\r\n                        <input type=\"text\" className=\"form-control form-control-lg\" placeholder=\"Name\" ref={nameField} disabled={disabled} />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <ImgUpload GetImgDetails={GetImgDetails} disabled={disabled} loadFile={loadFile} percent={percent} />\r\n                        <button className=\"btn btn-primary btn-lg btn-block mt-2\" onClick={submitProfile} disabled={disabled}>Sign In</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    );\r\n};\r\n\r\nexport default Join;","export const ENDPOINT = 'localhost:5000';\r\nexport const SLICE_SIZE = 100000;\r\n\r\nexport const pages = { USERS: 0, CHAT: 1, CHOOSE_ICEBREAKER: 2 };","import React from 'react';\r\nimport defaultImg from '../../images/SpeechlessGuy.png';\r\n\r\nconst UserIdent = ({ name, imgSrc }) => (\r\n    <div className=\"d-flex align-items-center\">\r\n        <img src={imgSrc || defaultImg} className=\"avatarsUserIdent rounded-circle\" alt=\"User Avatar\" />\r\n        <div className=\"ml-3\">{name}</div>\r\n    </div>\r\n);\r\n\r\nexport default UserIdent;","import React from 'react';\r\nimport UserIdent from '../UserIdent';\r\n\r\nconst User = ({user, LikeUserToggle, ToPageChat}) => {\r\n\r\n    let html_likeBtnVisual = user.likeThem ? <i className=\"fas fa-heart fa-lg\"></i> : <i className=\"far fa-heart fa-lg\"></i>;\r\n\r\n    const mutual = user.likeThem && user.likesMe;\r\n    const  html_SpeechBtnVisual = mutual ? <i className=\"fas fa-comment fa-lg fa-fw\"></i> : <i className=\"fas fa-comment-slash fa-lg fa-fw\"></i>;\r\n\r\n    const html_UnreadMsgNotif = user.unreadMsg ? <span className=\"notificationBadge\"></span> : \"\";\r\n\r\n    return (\r\n        <div className=\"d-flex justify-content-between align-items-center\">\r\n            <UserIdent name={user.name} imgSrc={user.imgSrc} />\r\n            <div className=\"d-flex align-items-center\">\r\n                <button className=\"btn\" onClick={() => { LikeUserToggle(user.id, !user.likeThem); }}>\r\n                    { html_likeBtnVisual }\r\n                </button>\r\n                <button className=\"btn position-relative\" onClick={() => { ToPageChat(user); }} disabled={!mutual} >\r\n                    { html_SpeechBtnVisual }\r\n                    { html_UnreadMsgNotif }\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default User;","import React from 'react';\r\nimport User from './User';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\n\r\nconst Users = ({ users, LikeUserToggle, ToPageChat }) => (\r\n    <div className=\"h-100 w-100 d-flex flex-column\">\r\n        <h1 className=\"text-center text-white\">Users</h1>\r\n        <ul className=\"list-group bg-secondary p-2 flex-grow-1 position-relative\">\r\n            <ScrollToBottom className=\"FullSpreadAbsElem\" scrollViewClassName=\"pad10\">\r\n                { \r\n                    users.map((user, i) => \r\n                        <li className=\"list-group-item m-0Auto mw1000 innerScrollItem\" key={i} >\r\n                            <User user={user} LikeUserToggle={LikeUserToggle} ToPageChat={ToPageChat} />\r\n                        </li>\r\n                    )\r\n                }\r\n            </ScrollToBottom>\r\n        </ul>\r\n    </div>\r\n);\r\n\r\nexport default Users;","import React from 'react';\r\nimport UserIdent from '../UserIdent';\r\n\r\nconst InfoBar = ({ ToPageUsers, user_Chat, user_Chat_Active }) => (\r\n    <div className=\"text-white d-flex align-items-center pt-3 pb-3\">\r\n        <button onClick={ToPageUsers} className=\"btn ml-2 text-white\">\r\n            <i className=\"fas fa-arrow-left\"></i>\r\n        </button>\r\n        <div className=\"ml-2 fontSize150\"><UserIdent name={user_Chat.name + (user_Chat_Active ? \"\" : \" [account deleted]\")} imgSrc={user_Chat.imgSrc} /></div>\r\n    </div>\r\n);\r\n\r\nexport default InfoBar;","import React from 'react';\r\nimport ReactEmoji from 'react-emoji';\r\n\r\nconst Message = ({ message: { msgText, fromSender } }) => {\r\n\r\n    console.log(`Message created. From sender: ${fromSender}, msg text: \"${msgText}\"`);\r\n\r\n    return (\r\n        fromSender ? (\r\n            <div className=\"d-flex justify-content-end mt-3\">\r\n                <div className=\"messageBox bgLightBlue fromSelf\">\r\n                    <div className=\"messageText text-white\">{ReactEmoji.emojify(msgText)}</div>\r\n                </div>\r\n            </div>\r\n        ) : (\r\n            <div className=\"d-flex justify-content-start mt-3\">\r\n                <div className=\"messageBox bg-white fromOther\">\r\n                    <div className=\"messageText\">{ReactEmoji.emojify(msgText)}</div>\r\n                </div>\r\n            </div>\r\n        )\r\n    )\r\n}\r\n\r\nexport default Message;","import React, { Component } from 'react';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\n\r\nimport InfoBar from './InfoBar';\r\nimport Message from './Message';\r\n\r\nclass Chat extends Component {\r\n    //props: {socket, user_Chat, OnSendMessage ToPageUsers}\r\n\r\n    state = {  msgText: \"\" };\r\n\r\n    SendMessage (event) {\r\n        event.preventDefault();\r\n\r\n        console.log(`SendMessage called in Chat.js, msgText: \"${this.state.msgText}\" to user: \"${this.props.user_Chat.id}\"`);\r\n\r\n        if(this.state.msgText) {\r\n            this.props.socket.emit('SendMessage', { msgText: this.state.msgText, chatPtnrID: this.props.user_Chat.id });\r\n            if(!this.props.user_Chat_Active)\r\n                console.warn(\"Message not sent, that user has been removed from the server.\");\r\n\r\n            this.props.OnSendMessage(this.props.user_Chat.id, this.state.msgText);\r\n            this.setState({ msgText: '' });\r\n        }\r\n    };\r\n\r\n    //console.log(`Main body called in Chat.js`);\r\n\r\n    render() {\r\n\r\n        //console.log(this.props.user_Chat.unreadMsg);\r\n\r\n        return (\r\n            <div className=\"h-100 d-flex flex-column justify-content-between\">\r\n                <div>\r\n                    <div className=\"mw1000 m-0Auto\">\r\n                        <InfoBar ToPageUsers={this.props.ToPageUsers} user_Chat={this.props.user_Chat} user_Chat_Active={this.props.user_Chat_Active} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex-grow-1 bg-secondary\">\r\n                    <div className=\"mw1000 m-0Auto h-100 position-relative\">\r\n                        <ScrollToBottom className=\"FullSpreadAbsElem\" scrollViewClassName=\"pad10\">\r\n                            { \r\n                                this.props.user_Chat.messages.map((message, i) => \r\n                                    <div className=\"innerScrollItem\" key={i}>\r\n                                        <Message message={message} />\r\n                                    </div>\r\n                                ) \r\n                            }\r\n                        </ScrollToBottom>\r\n                    </div>\r\n                </div>\r\n                <div className=\"bg-secondary\">\r\n                    <form className=\"mw1000 m-0Auto d-flex align-items-stretch\">\r\n                        <input \r\n                            className=\"form-control form-control-lg flex-grow-1 noBorder\" \r\n                            type=\"text\" \r\n                            placeholder=\"message\" \r\n                            value={this.props.user_Chat_Active ? this.state.msgText : \"\"} \r\n                            onChange={(event) => this.setState({ msgText: event.target.value })} \r\n                            onKeyPress={event => event.key === \"Enter\" ? this.SendMessage(event) : null}\r\n                            disabled={!this.props.user_Chat_Active}\r\n                        />\r\n                        <button className=\"btn noBorder bg-white\" onClick={(event) => this.SendMessage(event)} disabled={!this.props.user_Chat_Active}>\r\n                            <i class=\"fas fa-paper-plane fa-lg\"></i>\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default Chat;","import React from 'react';\r\n\r\nconst ChooseIceBreaker = () => {\r\n\r\n    return ( <div></div> );\r\n};\r\n\r\nexport default ChooseIceBreaker;","import React, { Component } from 'react';\r\nimport { pages } from '../Consts';\r\nimport Users from './Lobby/Users/Users';\r\nimport Chat from './Lobby/Chat/Chat';\r\nimport ChooseIceBreaker from './Lobby/IceBreakerSelection';\r\n\r\nclass PageSelection extends Component {\r\n\r\n    state = {\r\n        page: pages.USERS,\r\n        users: [],\r\n        user_Chat: null\r\n    };\r\n\r\n    // socket\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        // All messaging is saved per user, and effects by the users page by way of a \"new message\" indicator, and of course the chat page.\r\n        props.socket.on(\"RecNewUser\", (user) => {\r\n            console.log(`Adding user: \"${user.id}\"`);\r\n            this.setState({ users: [...this.state.users, user] });\r\n        });\r\n        props.socket.on(\"RemoveUser\", (userID) => {\r\n            console.log(`Removing user: \"${userID}\"`);\r\n            let removeIndex = this.state.users.findIndex((user) => user.id === userID);\r\n            this.state.users.splice(removeIndex, 1);\r\n            this.setState({ users: this.state.users });\r\n\r\n            //* In lieu of this, check if the user_Chat is still in the general users list, and if not, disable the chat features, but just leave the existing messages up.\r\n            // if(this.state.user_Chat)\r\n            //     if(this.state.user_Chat.id === userID)\r\n            //         this.setState({ user_Chat: null });\r\n        });\r\n        props.socket.on(\"RecLikeToggle\", (userData) => {\r\n            console.log(`Liked by user: \"${userData.socketID}\"`);\r\n            let changeIndex = this.state.users.findIndex((user) => user.id === userData.socketID);\r\n            this.state.users[changeIndex].likesMe = userData.likesMe;\r\n            this.setState({ users: this.state.users });\r\n        });\r\n\r\n        props.socket.emit(\"GetUsers\", {}, (users) => {\r\n            for(let i = 0; i < users.length; i++) {\r\n                console.log(`Adding users: \"${users[i].id}\"`);\r\n                //console.log(`User image src: \"${users[i].imgSrc}\"`);\r\n            }\r\n\r\n            this.setState({ users });\r\n        });\r\n\r\n        props.socket.on('RecMessage', (data) => {\r\n            console.log(`Received message: \"${data.msgText}\" from user: \"${data.senderID}\"`);\r\n            let changeIndex = this.state.users.findIndex((user) => user.id === data.senderID);\r\n            this.state.users[changeIndex].messages.push({ msgText: data.msgText, fromSender: false });\r\n            \r\n            // If the sender of that message is someone I'm not currently in chat with, indicate that I have an unread message waiting.\r\n            let willBeRead = false;\r\n            if(this.state.user_Chat)\r\n                if(this.state.user_Chat.id === data.senderID)\r\n                    willBeRead = true;\r\n\r\n            if(!willBeRead)\r\n                this.state.users[changeIndex].unreadMsg = true;\r\n\r\n            this.setState({ users: this.state.users });\r\n        });\r\n\r\n        this.ToPageUsers = this.ToPageUsers.bind(this);\r\n        this.LikeUserToggle = this.LikeUserToggle.bind(this);\r\n        this.ToPageChat = this.ToPageChat.bind(this);\r\n        this.OnSendMessage = this.OnSendMessage.bind(this);\r\n    }\r\n\r\n    ToPageUsers () {\r\n        this.setState({ \r\n            user_Chat: null, \r\n            page: pages.USERS \r\n        });\r\n    };\r\n\r\n    LikeUserToggle (userID, isLiked) {\r\n        this.props.socket.emit(\"LikeUserToggle\", { userID, isLiked });\r\n        this.setState(prevState => ({ \r\n            users: prevState.users.map((elem) => elem.id === userID ? {...elem, likeThem: isLiked } : elem)\r\n        }));\r\n    };\r\n\r\n    ToPageChat (user_Chat) {\r\n        this.setState(prevState => ({ \r\n            users: prevState.users.map((elem) => elem.id === user_Chat.id ? {...elem, unreadMsg: false } : elem),\r\n            user_Chat, \r\n            page: pages.CHAT \r\n        }));\r\n    }\r\n\r\n    OnSendMessage (userToID, msgText) {\r\n        console.log(`Sent message: \"${msgText}\" to user: \"${userToID}\"`);\r\n        let changeIndex = this.state.users.findIndex(({ id }) => id === userToID);\r\n        this.state.users[changeIndex].messages.push({ msgText, fromSender: true });\r\n        this.setState({ users: this.state.users });\r\n    }\r\n\r\n    render() {\r\n        if(this.state.page === pages.USERS)\r\n            return ( <Users users={this.state.users} LikeUserToggle={this.LikeUserToggle} ToPageChat={this.ToPageChat} /> );\r\n        else if(this.state.page === pages.CHAT) {\r\n            let user_Chat_Active = true;\r\n            if(this.state.user_Chat)\r\n                if(this.state.users.findIndex(({ id }) => id === this.state.user_Chat.id) === -1)\r\n                    user_Chat_Active = false;\r\n\r\n            return ( <Chat socket={this.props.socket} user_Chat={this.state.user_Chat} user_Chat_Active={user_Chat_Active} OnSendMessage={this.OnSendMessage} ToPageUsers={this.ToPageUsers} /> );\r\n        }\r\n        else if(this.state.page === pages.CHOOSE_ICEBREAKER)\r\n            return ( <ChooseIceBreaker /> );\r\n    }\r\n};\r\n\r\nexport default PageSelection;","import React from 'react';\r\n\r\nconst LoadBar = ({ percent }) => {\r\n\r\n    const barStyle = { width: percent + \"%\" };\r\n\r\n    return (\r\n        <div id=\"ImageUploadBar\" className=\"progress position-absolute h-100 w-100\">\r\n            <div role=\"progressbar\" className=\"progress-bar progress-bar-striped bg-success progress-bar-animated transitionNone\" style={barStyle} aria-valuenow={percent} aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LoadBar;","import React, { useState } from 'react';\r\n\r\nimport LoadBar from './LoadBar';\r\nimport defaultImg from '../images/SpeechlessGuy.png';\r\n\r\nlet URL = window.URL || window.webkitURL;\r\nconst extArr = ['jpg', 'jpeg', 'png', 'gif'];\r\n\r\nconst ImgUpload = ({ GetImgDetails, disabled, loadFile, percent }) => {\r\n    const [src, SetSrc] = useState(defaultImg);\r\n\r\n    const imgChange = (event) => {\r\n        // Make sure only 1 file has been uploaded\r\n        if(event.target.files.length !== 1) {\r\n            alert(\"Can only use 1 photo at a time.\");\r\n            return;\r\n        }\r\n\r\n        // Make sure the file is an image\r\n        const fname = event.target.value;\r\n        const ext = fname.slice((fname.lastIndexOf(\".\") - 1 >>> 0) + 2);\r\n        if(extArr.indexOf(ext) === -1) {\r\n            alert('Image must have extension: jpg, jpeg, png, or gif');\r\n            return;\r\n        }\r\n\r\n        let file = event.target.files[0];\r\n        //console.log(file);\r\n\r\n        var img = new Image();\r\n        img.onload = () => { console.log(\"img width: \" + img.width + \", height: \" + img.height); };\r\n        img.src = URL.createObjectURL(file);\r\n        SetSrc(img.src);\r\n\r\n        GetImgDetails(ext, file, src);\r\n    };\r\n\r\n    const html_LoadBar = loadFile ? <LoadBar percent={percent} /> : \"\";\r\n\r\n    //console.log(`Main body called in ImgUpload.js`);\r\n\r\n    return (\r\n        <div className=\"mt-2\">\r\n            <img src={src} id=\"AvatarSelected\" className=\"rounded-circle mt-5 mb-5\" alt=\"User avatar\" />\r\n\r\n            <input id=\"HiddenFileUploader\" placeholder=\"File\" className=\"d-none\" type=\"file\" accept=\"image/*\" capture=\"user\" onChange={imgChange} disabled={disabled} />\r\n            {/* Clicking this button activates the hidden file button above.  */}\r\n            <button className=\"btn btn-secondary btn-lg btn-block mt-2 position-relative\" onClick={() => { document.getElementById(\"HiddenFileUploader\").click(); }} disabled={disabled}>\r\n                <span>Take/Upload picture</span>\r\n                { html_LoadBar }\r\n            </button>\r\n            \r\n            {/* // TODO: Use mobile camera or webcam. - File uploader can act as both?\r\n            <input id=\"HiddenPhotoUploader\" placeholder=\"Image\" className=\"d-none\" type=\"file\" accept=\"image/*\" capture=\"user\" />\r\n            <div><button className=\"button mt-2\" onClick={() => { document.getElementById(\"HiddenPhotoUploader\").click(); }}>Take picture</button></div>  \r\n            */}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ImgUpload;","import React from 'react';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\nimport './StyleOverride.css';\r\n\r\nimport Join from './components/Join';\r\n\r\n\r\nconst App = () => (\r\n    <Router>\r\n        <Route path=\"/*\" exact component={Join} />\r\n    </Router>\r\n);\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.querySelector('#root'));","module.exports = __webpack_public_path__ + \"static/media/SpeechlessGuy.8d8d757b.png\";"],"sourceRoot":""}