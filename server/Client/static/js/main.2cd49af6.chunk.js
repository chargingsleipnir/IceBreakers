(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{159:function(e,t,a){e.exports=a(399)},164:function(e,t,a){},194:function(e,t){},30:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAC33pUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHja7ZdBkuQoDEX3nGKOgCSExHGwgYi+wRx/PphyVmZVd8T09GIWacIGy+IL9GRnVeh//xjhLxxUJIak5rnkHHGkkgpXDDxex9VTTOu6Dt6PcP9kD/cDhknQy3Wb+/avsOtjgqVtP57twc6t41toP/gQlBl5Rtt+voWELzvt+1D2vJo+bWefR9s2vbrX+2RIRlPoCQfuQhJxzTOKXGfFqbiSJDiR2Bo7rjz9vstduIcvybtHL7mLddvlORUh5u2QX3K07aTf525l6POK6BH56YHJHeJL7sZoPka/dldTRqZy2Jv62MoawfFAKmVNy2iGUzG21QqaY4sniDXQPNDOQIUY2R6UqFGlQX31J51YYuLOhp75ZFk2F+PCp0wEaTYabFKkBbBgOUFNYOZ7LbTilhXvJEfkRvBkghhhxpcWvjP+TruFxpilSxT9zhXWxbOmsYxJbl7hBSA0dk515Xe18Klu4iewAoK60uzYYI3HJXEoPWpLFmeBn8YU4vVqkLUtgBQhtmIxJCAQM4lSpmjMRoQ8OvhUrJxR9gcIkCo3CgNsRDLgOM/YmGO0fFn5MuPTAhAqGa+Kg1AFrJQU9WPJUUNVRVNQ1aymrkVrlpyy5pwtz29UNbFkatnM3IpVF0+unt3cvXgtXASfMC25WCheSqkVQSukK2ZXeNR68CFHOvTIhx1+lKOeKJ8znXrm004/y1kbN2l4/VtuFpq30mqnjlLqqWvP3br30utArQ0ZaejIw4aPMupNbVN9pkYv5H5NjTa1SSwtP3tQg9nsQ4Lm50QnMxDjRCBukwAKmiez6JQST3KTWSyMl0IZ1EgnnEaTGAimTqyDbnYPcr/kFjT9K278M3JhovsT5MJEt8l95fYNtVbXL4osQPMtnDmNMvBhg0P3yl7nb9Jv9+G/CryF3kJvobfQW+gt9Bb6/wgN/PGAfzXDP+WRkYgEmS+0AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkBQ4VEhuBQtPTAAABqklEQVRIx52UTShEURTHf8akzEIWSjEbSVGUQqmRhRKlFCEbzWKUrY+djWKDDaXUyEYNpSwosaJZzNJHRFmw8VEWs5mZfH9cC8fzZrzx3n3/uzjv/u89/3vOueddsEMec6RIMIMHV5hEyRh3J3BiCBxaLduH9WR8PbqLoN+IoAeX6GSLTTqsF3NNyTThI26xx0clBwwRIGZKSJAj1kuUABDjyCQK8EGIDYIArNOfLcxWI1OrsST2mDB+61uI2zTT9w0U4SdinQJMMUacea4zUnhnmXymmQAe2KHX5JMmkB27tJNigVLeGCBBse41zqJQXBFFoZjR74NBKeEiinsK9QXaROCWJRrcdGKd6UJr9X8m+LTsXA0B9d+ix1ERf1GvX4GRtKa+1H3YangW13OxQT2BqLhNUcYbCsWFjntA3GMALMusz7lARFy+S1fBZ/bH1QpekqbzAdZEsMWZQLNsHzaYWmG2nQmMyvZqE7cnXLmTRqqSRj4zcQtiQ04i2EehOM1g71Ao7pxEUADASwa7AkAJAXsBj5yYjlWxr/YpDJDkhsY/fBdhun8mX1m4re0W+oxcAAAAAElFTkSuQmCC"},31:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAC3XpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHja7ZdBkuQoDEX3nGKOgCSExHGwgYi+wRx/PphyVmZVd8T09GIWacIGy/IX6AlnVeh//xjhLxxUJIak5rnkHHGkkgpXDDxex9VTTOu6Dt6PcP9kD/cDhknQy3Wb+/avsOvjBUvbfjzbg51bx7fQfvAhKDPyjLb9fAsJX3ba96Hs92r6tJx9Hm3b9Ope75MhGU2hJxy4C0nENc8ocp0Vp+JKkuBEYmt8Xfn73IV7+JK8e/SSu1i3XZ5TEWLeDvklR9tO+n3uVoY+z4gekZ8emNwhvuRujOZj9Gt1NWVkKoe9qI+lrBEcD6RS1msZzXAqxrZaQXMs8QSxBpoH2hmoECPbgxI1qjSor/6kE1NM3NnQM58sy+ZiXPiUiSDNRoNNirQgDk4nqAnMfM+FVtyy4p3kiNwInkwQA7mvLXxn/J12C40xS5co+p0rzItn1WAak9y8wgtAaOyc6srvauFT3cRPYAUEdaXZscAaj0viUHrUlizOAj+NKcRra5C1LYAUIbZiMiQgEDOJUqZozEaEPDr4VMycUfYHCJAqNwoDbEQy4DjP2HjHaPmy8mXGpwUgVDI2iYNQBayUFPVjyVFDVUVTUNWspq5Fa5acsuacLc9vVDWxZGrZzNyKVRdPrp7d3L14LVwEnzAtuVgoXkqpFUErpCvervCo9eBDjnTokQ87/ChHPVE+Zzr1zKedfpazNm7SsP1bbhaat9Jqp45S6qlrz92699LrQK0NGWnoyMOGjzLqTW1TfaZGL+R+TY02tUksLT97UIPZ7EOC5udEJzMQ40QgbpMACpons+iUEk9yk1ksjE2hDGqkE06jSQwEUyfWQTe7B7lfcgua/hU3/hm5MNH9CXJhotvkvnL7hlqr6xdFFqC5C2dOowx82ODQvbLX+Zv02334rwJvobfQW+gt9BZ6C72F/j9CA3884F/N8A+Ry5GC1Ba05AAAAAJiS0dEAP+Hj8y/AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH5AUOFRENXrs1QQAAAcFJREFUSMellcsrRUEcxz/I48pjgVKSSN0k5S7svEpecUlZKRYWNlKytCDPhT/AQlZISSnZCHksLMRGoUgeG6+8blyhOBZ3TOece48z9/jN4sz8zny+c+b85vebKIItkQJi8OHQmvGhoTFJpBM8nTc00bpUAPMqNbhkv96JwKNF39IiTONY9nED8E0p2yTgpYICovCxwwJ79pIZTHHABtXEM8iz/COBtkqu6u8s49AEB9or1fZwEnMh4UD7oPJvvIgLA3BKPJBKJ0/C80K2Nd6AP2jNFvEuS0qPWeFVfIb46HPixPs8IV8bGs8Ux1hjwrSNHjknlw4KrdafFdNvaKbbIPBAskro9nSI37SZURUBL/c6ZNMU/1QViWgameEWDT8eFg0S4+GktZsUIN8UjcLw68OWQWA7PNjDbtCJaFOFIxjgSwe+i+cVCSp4Mms6+JhO0mRujqkIrEj4jnbhq5Df4rYXuJIC67oCMi98y/YCrboNvDEkCm2WrNhee4k6Tg3ZWAxAn6wQLnsJF/26O+JS+M7EuFctmDksCeBEeJpkqmWqnoh6jrimPChC007vzjyR5tc4thE0NIb5h5Xg+e3+AJ5bIiPN9MLVAAAAAElFTkSuQmCC"},32:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAC3npUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHja7ZdBkuQoDEX3nGKOgCSExHGwgYi+wRx/PphyVmZVd8T09GIWacIGy+IL9ICsCv3vHyP8hYuKxJDUPJecI65UUuGKhsfrumqKaT3XxfsT3p/s4f7AMAlquV5z3/4Vdn10sLTtx7M92Ll1fAvtDx+CMiPPaNvPt5DwZaf9HsruV9On6ez7aNumV/X6ngzJaAo94cBdSCKeeUaR6664FU+SBCcSW+2y7On73IW7+ZK8u/WSu1i3XZ5TEWLeDvklR9tO+n3uVoY+j4gekZ8+mNwhvuRujOZj9Gt2NWVkKoc9qY+prBYcD6RSVreMYrgVbVuloDimeIJYA80D5QxUiJHtQYkaVRrUV33SiSEm7myomU+WZXMxLnzKRJBmocEGDC2Ig9MJagIz32OhFbeseCc5IjeCJxPECD2+lPCd8XfKLTTGXLpE0e9cYVw81zSGMcnNJ7wAhMbOqa78rhI+rZv4CayAoK40OyZY43FJHEqPtSWLs8BPYwrx2hpkbQsgRYitGAwJCMRMopQpGrMRIY8OPhUjZyz7AwRIlRuFATYiGXCcZ2z0MVq+rHyZcbQAhErGVvG5UQArJcX6seRYQ1VFU1DVrKauRWuWnLLmnC3PM6qaWDK1bGZuxaqLJ1fPbu5evBYugiNMSy4WipdSakXQCumK3hUetR58yJEOPfJhhx/lqCeWz5lOPfNpp5/lrI2bNGz/lpuF5q202qljKfXUtedu3XvpdWCtDRlp6MjDho8y6k1tU32mRi/kfk2NNrVJLC0/e1CD2exDguZxopMZiHEiELdJAAuaJ7PolBJPcpNZLIxNoQxqpBNOo0kMBFMn1kE3uwe5X3ILmv4VN/4ZuTDR/QlyYaLb5L5y+4Zaq+sXRRaguQtnTqMMHGxw6F7Z6/xN+u06/FeBt9Bb6C30FnoLvYXeQv8foYE/HvCvZvgHu7SRhcbx1mEAAAACYktHRAD/h4/MvwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB+QFDhUTBvtfjksAAAGPSURBVEjHvZXNK0RRGIefGcr4SDKJLGQWJEqyIqws1SQKUxILVqaZyPwBFrNRKDYiWxtkJUVRFjayNomNhjEzZTUW0hyLe7ruzLl3rrkT71m95/e7zz3nPV9QYpThYhwfD84RewgEW84BQrY1p4BDHbFi6fHip85KrOJKRyyYOmp5RvBIpTXiWgKy+E30XqkuWk+jhltpytCnqC5iCASv1mOAJp4k4oUWRZ2RWlBHTrBBiHqjqZWEtN1RpSDuEQgSVAIeLqUzTpvR1M+HFA4UwLRUQkBQL7rg1JVjm9I/DXOOJ0c7owFI4mOfSb03m/+nqIFu3sLsGrKkWvELG0CKYUO2qq5HI3EbxBIBUgg+WafMbElHbQBveIAuqq32RI9tHeYLHy97QOzHXF4AdExUOfpDbALtjHNkP4IdRemkmzQCwc1vppAPWJYnVlMHtE53EVfPmNwpWkSKB2zzZcj8NBULOKCZWU7IAJDmvfgialHBCBE6nKyCSbhLfZn+BCBKfy+1CzbgHOFljkH+J74ByqfzaSxfi4YAAAAASUVORK5CYII="},399:function(e,t,a){"use strict";a.r(t);var n,s=a(0),r=a.n(s),l=a(149),c=a.n(l),i=a(155),m=a(23),o=(a(164),a(19)),u=a(20),d=a(5),f=a(22),h=a(21),p=a(150),g=a.n(p),v=0,E=1,x=0,b=1,N=2,A=3,C=0,k=1,y=2,S=3,B=0,w=1,j=2,T=0,P=1,R=2,I=1,D=-1,O=0,U=0,L=1,M=2,_=3,W=4,F=0,G=1,J=2,Q=3,z=4,Y=0,V=1,Z=2,H=3,K=4,X=a(16),q=a(158),$=a(41),ee=a.n($),te=function(e){var t=e.name,a=e.online,n=e.imgSrc,s=e.imgIsPortrait;return r.a.createElement("div",{className:"d-flex flex-wrap align-items-center"},r.a.createElement("div",{className:"avatarsUserIdent rounded-circle"},r.a.createElement("img",{src:n||ee.a,alt:"User Avatar",className:s?"portrait":""})),r.a.createElement("div",{className:"ml-3"},r.a.createElement("div",null,t),r.a.createElement("small",null,a?"":" [offline]")))},ae=function(e){var t=e.user,a=e.LikeUserToggle,n=e.ToPageChat,s=t.likeThem?r.a.createElement("i",{className:"fas fa-heart fa-lg"}):r.a.createElement("i",{className:"far fa-heart fa-lg"}),l=t.likeThem&&t.likesMe,c=l?r.a.createElement("i",{className:"fas fa-comment fa-lg fa-fw"}):r.a.createElement("i",{className:"fas fa-comment-slash fa-lg fa-fw"}),i="";if(t.unreadMsg){var m="notificationBadge";null!==t.chatEvent&&(m+=" isEvent"),i=r.a.createElement("span",{className:m})}return r.a.createElement("div",{className:"d-flex flex-wrap justify-content-between align-items-center"},r.a.createElement(te,{name:t.name,online:!0,imgSrc:t.imgSrc,imgIsPortrait:t.isPortrait}),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("button",{className:"btn pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-3 pr-md-3",onClick:function(){a(t.id,!t.likeThem)}},s),r.a.createElement("button",{className:"btn pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-3 pr-md-3 position-relative",onClick:function(){n(t)},disabled:!l},c,i)))},ne=a(29),se=a.n(ne),re=function(e){var t=e.users,a=e.LikeUserToggle,n=e.ToPageChat;return r.a.createElement("div",{className:"h-100 w-100 d-flex flex-column"},r.a.createElement("div",{className:"head1 text-center text-white"},"Users"),r.a.createElement("ul",{className:"list-group bg-secondary p-2 flex-grow-1 position-relative"},r.a.createElement(se.a,{className:"FullSpreadAbsElem",scrollViewClassName:"pad10"},t.map((function(e,t){return r.a.createElement("li",{className:"list-group-item m-0Auto maxW1000 innerScrollItem",key:t},r.a.createElement(ae,{user:e,LikeUserToggle:a,ToPageChat:n}))})))))},le=function(e){var t=e.ToPageUsers,a=e.user_Chat,n=e.user_Chat_Active;return r.a.createElement("div",null,r.a.createElement("div",{className:"maxW1000 m-0Auto"},r.a.createElement("div",{className:"text-white d-flex align-items-center pt-3 pb-3"},r.a.createElement("button",{onClick:t,className:"btn ml-2 text-white"},r.a.createElement("i",{className:"fas fa-arrow-left fa-lg"})),r.a.createElement("div",{className:"ml-2 fontSize150"},r.a.createElement(te,{name:a.name,online:n,imgSrc:a.imgSrc,imgIsPortrait:a.isPortrait})))))},ce=a(3),ie=a.n(ce),me=a(30),oe=a.n(me),ue=a(31),de=a.n(ue),fe=a(32),he=a.n(fe),pe=function(e){var t,a,n=e.message,s=n.fromSelf,l=n.data,c=e.chatPtnrName,i=function(e){return e===B?oe.a:e===w?de.a:e===j?he.a:void 0};if(l.step===U){var m="",o="";return s?(m="You challenged ".concat(c," to a fight!"),o="fromAdminOfSelf"):(m="".concat(c," challenged you to a fight!"),o="fromAdminOfOther"),r.a.createElement("div",{className:"d-flex justify-content-center mt-2"},r.a.createElement("div",{className:"outerBox text-center"},r.a.createElement("div",{className:"messageText fontSize90 text-white"},m),r.a.createElement("div",{className:"messageBox messageText mt-2 ".concat(o)},ie.a.emojify(l.msgProvoke))))}if(l.step===L)return r.a.createElement("div",{className:"d-flex justify-content-center mt-2"},r.a.createElement("div",{className:"text-center fontSize90"},r.a.createElement("div",{className:"messageText text-white"},"Challenge accepted!")));if(l.step===M){var u=s?"You wimped out.":"".concat(c," wimped out.");return r.a.createElement("div",{className:"d-flex justify-content-center mt-2 mb-3"},r.a.createElement("div",{className:"text-center fontSize90"},r.a.createElement("div",{className:"messageText text-white"},ie.a.emojify(u))))}if(l.step===_){var d=(a=l.roundWinner)===T?s?D:I:a===P?s?I:D:a===R?O:void 0,f="",h="Oof...";return d===I?(f="textShadowGreen",h="Nice!"):d===D&&(f="textShadowRed",h="Ouch!"),r.a.createElement("div",{className:"d-flex justify-content-center mt-2"},r.a.createElement("div",{className:"width80Pct"},r.a.createElement("div",{className:"d-flex justify-content-between align-items-center mt-1"},r.a.createElement("div",{className:"bg-warning mr-3"},r.a.createElement("img",{src:i(l[s?"actionSent":"actionResp"]),alt:"action",className:"m-1"})),r.a.createElement("div",{className:"mr-3 font-weight-bold text-white ".concat(f)},h),r.a.createElement("div",{className:"bg-warning"},r.a.createElement("img",{src:i(l[s?"actionResp":"actionSent"]),alt:"action",className:"m-1"})))))}if(l.step===W){var p="";return p=s?"fromAdminOfOther":"fromAdminOfSelf",r.a.createElement("div",{className:"d-flex justify-content-center mt-2 mb-3"},r.a.createElement("div",{className:"outerBox text-center"},r.a.createElement("div",{className:"messageText text-white fontSize90"},(t=l.fightWinner)===T?s?"".concat(c," won!"):"You beat ".concat(c,"!"):t===P?s?"You beat ".concat(c,"!"):"".concat(c," won!"):t===R?"We have a tie!":void 0),r.a.createElement("div",{className:"messageText messageBox mt-2 ".concat(p)},ie.a.emojify(l.msgEnd))))}return""},ge=a(57),ve=function(e){var t=e.message,a=t.fromSelf,n=t.data,s=e.chatPtnrName,l=function(e){var t="";return e&&(t=r.a.createElement("div",{className:"d-flex justify-content-center mt-2"},r.a.createElement("div",{className:"position-relative drawCanvasCont"},r.a.createElement(ge.a,{disabled:!0,hideGrid:!0,canvasWidth:"250px",canvasHeight:"250px",saveData:n.giftCanvasSaveData,hideInterface:"true"})))),t};if(n.step===F){var c=a?"You sent ".concat(s," ").concat(ie.a.emojify(n.giftText),"."):"".concat(s," sent you ").concat(ie.a.emojify(n.giftText),".");return r.a.createElement("div",{className:"d-flex justify-content-center mt-2"},r.a.createElement("div",{className:"outerBox fontSize90 text-center"},r.a.createElement("div",{className:"messageText text-white"},c)))}if(n.step===G)return r.a.createElement("div",{className:"mb-3"},r.a.createElement("div",{className:"d-flex justify-content-center mt-2"},r.a.createElement("div",{className:"outerBox fontSize90 text-center"},r.a.createElement("div",{className:"messageText text-white"},"Gift accepted."))),l(!n.launchTrap));if(n.step===J){var i=a?"You turned it down.":"It was turned away.";return r.a.createElement("div",{className:"d-flex justify-content-center mt-2 mb-3"},r.a.createElement("div",{className:"outerBox fontSize90 text-center"},r.a.createElement("div",{className:"messageText text-white"},i)))}if(n.step===z){var m="";return m=a?"fromAdminOfOther":"fromAdminOfSelf",r.a.createElement("div",{className:"mb-3"},r.a.createElement("div",{className:"d-flex justify-content-center mt-2"},r.a.createElement("div",{className:"outerBox text-center"},r.a.createElement("div",{className:"messageText fontSize90 text-white"},n.trapSuccess?a?"You got caught in ".concat(s,"'s trap!"):"You caught ".concat(s," in your trap!"):a?"You broke free from ".concat(s,"'s trap!"):"".concat(s," broke out of your trap!")),r.a.createElement("div",{className:"messageText messageBox mt-2 ".concat(m)},'"',ie.a.emojify(n.msgEnd),'"'))),l(!n.trapSuccess))}return""},Ee=function(e){var t=e.message,a=t.fromSelf,n=t.data,s=e.chatPtnrName;if(n.step===Y){var l=a?"You invited ".concat(s," to read your mind!"):"".concat(s," invited you to test your ESP!");return r.a.createElement("div",{className:"d-flex justify-content-center mt-2"},r.a.createElement("div",{className:"outerBox text-center"},r.a.createElement("div",{className:"messageText fontSize90 text-white"},l)))}if(n.step===V)return r.a.createElement("div",{className:"d-flex justify-content-center mt-2"},r.a.createElement("div",{className:"outerBox text-center"},r.a.createElement("div",{className:"messageText fontSize90 text-white"},"Invitation accepted!")));if(n.step===Z){var c=a?"You're antenna's not working right now.":"".concat(s," isn't feeling too perceptive right now.");return r.a.createElement("div",{className:"d-flex justify-content-center mt-2 mb-3"},r.a.createElement("div",{className:"outerBox text-center"},r.a.createElement("div",{className:"messageText fontSize90 text-white"},ie.a.emojify(c))))}if(n.step===H){var i=[],m=[];if(n.revealAllAtOnce)for(var o=0;o<n.statements.length;o++)i.push(r.a.createElement("span",{key:o},r.a.createElement("span",null,ie.a.emojify(n.statements[o].preBlank)),r.a.createElement("u",{className:"text-danger"},ie.a.emojify(n.statements[o].asBlank)),r.a.createElement("span",null,ie.a.emojify(n.statements[o].postBlank)),"\xa0")),m.push(r.a.createElement("span",{key:o},r.a.createElement("span",null,ie.a.emojify(n.statements[o].preBlank)),r.a.createElement("u",{className:"text-danger"},ie.a.emojify(n.statements[o].blankGuess)),r.a.createElement("span",null,ie.a.emojify(n.statements[o].postBlank)),"\xa0"));else i.push(r.a.createElement("span",{key:"0"},r.a.createElement("span",null,ie.a.emojify(n.preBlank)),r.a.createElement("u",{className:"text-danger"},ie.a.emojify(n.asBlank)),r.a.createElement("span",null,ie.a.emojify(n.postBlank)))),m.push(r.a.createElement("span",{key:"0"},r.a.createElement("span",null,ie.a.emojify(n.preBlank)),r.a.createElement("u",{className:"text-danger"},ie.a.emojify(n.blankGuess)),r.a.createElement("span",null,ie.a.emojify(n.postBlank)),"\xa0"));return r.a.createElement("div",{className:"d-flex justify-content-center mt-2"},r.a.createElement("div",{className:"outerBox width80Pct"},r.a.createElement("div",{className:"small text-light"},n.guessMatch?"Match!":"No match"),r.a.createElement("div",{className:"messageText messageBox text-center ".concat(a?"fromAdminOfOther":"fromAdminOfSelf"," mt-1")},i),r.a.createElement("div",{className:"messageText messageBox text-center ".concat(a?"fromAdminOfSelf":"fromAdminOfOther"," mt-1 mb-2")},m)))}return n.step===K?r.a.createElement("div",{className:"d-flex justify-content-center mt-2 mb-3"},r.a.createElement("div",{className:"outerBox text-light text-center"},"Matches: ",n.matchCount," of ",n.statementCount)):""},xe=function(e){var t=e.message,a=e.chatPtnrName;return t.type===x?t.fromSelf?r.a.createElement("div",{className:"d-flex justify-content-end mt-2"},r.a.createElement("div",{className:"outerBox messageBox bgLightGreen fromSelf"},r.a.createElement("div",{className:"messageText"},ie.a.emojify(t.data)))):r.a.createElement("div",{className:"d-flex justify-content-start mt-2"},r.a.createElement("div",{className:"outerBox messageBox bg-white fromOther"},r.a.createElement("div",{className:"messageText"},ie.a.emojify(t.data)))):t.type===b?r.a.createElement(pe,{message:t,chatPtnrName:a}):t.type===N?r.a.createElement(ve,{message:t,chatPtnrName:a}):t.type===A?r.a.createElement(Ee,{message:t,chatPtnrName:a}):void 0},be=function(e){var t=e.BackFunc,a=e.title,n=e.subtitle;return r.a.createElement("div",null,r.a.createElement("div",{className:"maxW1000 m-0Auto position-relative"},r.a.createElement("button",{onClick:t,className:"btn text-white posAbsAlignVert50pct"},r.a.createElement("i",{className:"fas fa-arrow-left fa-lg"})),r.a.createElement("div",{className:"head3 text-center text-white"},r.a.createElement("div",null,a),r.a.createElement("small",null,n))))},Ne=function(e){for(var t=e.ReturnToSelection,a=e.user_Chat_Active,n=e.LaunchChatEvent,s=r.a.createRef(),l=r.a.createRef(),c=r.a.createRef(),i=r.a.createRef(),m=r.a.createRef(),o=[],u=0;u<5;u++){var d="fightSelection_"+u;o.push(r.a.createElement("div",{key:u},r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement("label",{className:"noStyleLabel",htmlFor:d+"_"+B},r.a.createElement("input",{type:"radio",id:d+"_"+B,name:d,value:B,defaultChecked:!0}),r.a.createElement("img",{src:oe.a,alt:"punch",className:"m-1"})),r.a.createElement("label",{className:"noStyleLabel ml-1 mr-1",htmlFor:d+"_"+w},r.a.createElement("input",{type:"radio",id:d+"_"+w,name:d,value:w}),r.a.createElement("img",{src:de.a,alt:"tackle",className:"m-1"})),r.a.createElement("label",{className:"noStyleLabel",htmlFor:d+"_"+j},r.a.createElement("input",{type:"radio",id:d+"_"+j,name:d,value:j}),r.a.createElement("img",{src:he.a,alt:"kick",className:"m-1"}))),u<4?r.a.createElement("hr",{className:"bg-light mt-2 mb-2"}):""))}return r.a.createElement("div",{className:"h-100 w-100 d-flex flex-column"},r.a.createElement(be,{BackFunc:t,title:"Fight",subtitle:a?"":" [user offline]"}),r.a.createElement("div",{className:"bg-secondary p-2 flex-grow-1 position-relative",role:"group"},r.a.createElement("fieldset",{disabled:!a},r.a.createElement("form",{ref:function(e){return s=e},className:"maxW1000 m-0Auto reimplementScroll"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"head4 text-light"},"Provocation"),r.a.createElement("input",{type:"text",className:"form-control",ref:l,placeholder:"e.g. Put 'em up!"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"head4 text-light mb-2"},"Actions"),o),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"head4 text-light"},"Win message"),r.a.createElement("input",{type:"text",className:"form-control",ref:c,placeholder:"e.g. Don't mess with the champ!"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"head4 text-light"},"Lose message"),r.a.createElement("input",{type:"text",className:"form-control",ref:i,placeholder:"e.g. Pfft, barely a flesh wound..."})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"head4 text-light"},"Tie message"),r.a.createElement("input",{type:"text",className:"form-control",ref:m,placeholder:"e.g. Did we just become best friends?"})),r.a.createElement("button",{type:"button",className:"btn bgLightBlue text-white m-0Auto innerScrollItem",onClick:function(e){e.preventDefault();for(var t=[],a=0;a<5;a++)for(var r=s.elements["fightSelection_"+a],o=0;o<r.length;o++)r[o].checked&&t.push(parseInt(r[o].value));var u=l.current.value,d=c.current.value,f=i.current.value,h=m.current.value;n({type:b,data:{step:U,msgProvoke:u}},!1),setTimeout((function(){n({type:b,data:{step:U,msgProvoke:u,msgWin:d,msgLose:f,msgTie:h,actionsSent:t,actionsResp:[]}},!0)}),750)}},"Send")))))},Ae=a(33),Ce=a(154),ke=function(e){var t=e.ReturnToSelection,a=e.user_Chat_Active,n=e.LaunchChatEvent,l=Object(s.useState)(50),c=Object(Ae.a)(l,2),i=c[0],m=c[1],o=Object(s.useState)("ff0000"),u=Object(Ae.a)(o,2),d=u[0],f=u[1],h=Object(s.useState)(3),p=Object(Ae.a)(h,2),g=p[0],v=p[1],E=Object(s.useRef)(),x=Object(s.createRef)(),b=Object(s.createRef)(),A=Object(s.createRef)();return r.a.createElement("div",{className:"h-100 w-100 d-flex flex-column"},r.a.createElement(be,{BackFunc:t,title:"Gift",subtitle:a?"":" [user offline]"}),r.a.createElement("div",{className:"bg-secondary p-2 flex-grow-1 position-relative",role:"group"},r.a.createElement("fieldset",{disabled:!a},r.a.createElement("form",{className:"maxW1000 m-0Auto reimplementScroll"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"head4 text-light"},"Gift"),r.a.createElement("input",{type:"text",className:"form-control",ref:x,placeholder:"e.g. 5 cents"}),r.a.createElement("div",{id:"DrawComponentContainer",className:"mt-3"},r.a.createElement("div",{className:"m-2"},r.a.createElement(ge.a,{ref:E,canvasWidth:"250px",canvasHeight:"250px",lazyRadius:"5",brushColor:d,brushRadius:isNaN(g)||g<1?1:g})),r.a.createElement("div",{id:"CanvasControlsContainer",className:"mt-2"},r.a.createElement(Ce.CompactPicker,{color:d,onChangeComplete:function(e){f(e.hex)}}),r.a.createElement("div",{className:"mt-3 d-flex justify-content-around align-items-end"},r.a.createElement("button",{type:"button",className:"btn bgLightBlue text-white",onClick:function(){E.current.undo()}},"Undo"),r.a.createElement("button",{type:"button",className:"btn bgLightBlue text-white ml-1",onClick:function(){E.current.clear()}},"Clear"),r.a.createElement("div",{className:"ml-1"},r.a.createElement("small",{className:"text-white"},"Brush-Radius:"),r.a.createElement("input",{type:"number",className:"form-control",value:g,onChange:function(e){return v(parseInt(e.target.value,10)||"")}})))))),r.a.createElement("div",{className:"form-group mt-3"},r.a.createElement("div",{className:"head4 text-light"},"Trap activation chance"),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("input",{type:"range",min:"0",max:"100",value:i,className:"flex-grow-1",onChange:function(e){return m(e.target.value)}}),r.a.createElement("div",{className:"ml-2 text-center text-light font-weight-bold w50p"},i,"%"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"head4 text-light"},"Success message"),r.a.createElement("input",{type:"text",className:"form-control",ref:b,placeholder:"e.g. Was it really worth the risk?!"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"head4 text-light"},"Fail message"),r.a.createElement("input",{type:"text",className:"form-control",ref:A,placeholder:"e.g. Don't spend it all in one place!"})),r.a.createElement("button",{type:"button",className:"btn bgLightBlue text-white m-0Auto innerScrollItem",onClick:function(e){e.preventDefault();var t=x.current.value,a=E.current.getSaveData(),s=b.current.value,r=A.current.value;n({type:N,data:{step:F,giftText:t}},!1),setTimeout((function(){n({type:N,data:{step:F,sliderPct:i,giftText:t,giftCanvasSaveData:a,msgSuccess:s,msgFail:r}},!0)}),750)}},"Send")))))},ye=function(){return r.a.createElement("div",{className:"form-group m-0"},r.a.createElement("div",null,r.a.createElement("input",{type:"text",className:"form-control statementPreBlank",placeholder:"Pre-blank text"})),r.a.createElement("div",null,r.a.createElement("input",{type:"text",className:"form-control statementAsBlank",placeholder:"Shown-as-blank text"})),r.a.createElement("div",null,r.a.createElement("input",{type:"text",className:"form-control statementPostBlank",placeholder:"Post-blank text"})))},Se=function(e){for(var t=e.ReturnToSelection,a=e.user_Chat_Active,n=e.LaunchChatEvent,l=Object(s.useState)(1),c=Object(Ae.a)(l,2),i=c[0],m=c[1],o=r.a.createRef(),u=r.a.createRef(),d=[],f=0;f<i;f++)d.push(r.a.createElement(ye,null));return r.a.createElement("div",{className:"h-100 w-100 d-flex flex-column"},r.a.createElement(be,{BackFunc:t,title:"Blanks",subtitle:a?"":" [user offline]"}),r.a.createElement("div",{className:"bg-secondary p-2 flex-grow-1 position-relative",role:"group"},r.a.createElement("fieldset",{disabled:!a},r.a.createElement("form",{ref:function(e){return o=e},className:"maxW1000 m-0Auto reimplementScroll"},r.a.createElement("label",{className:"text-light small"},'Select a number of statements, and a portion of each to be presented as "______" to the recipient, who will fill in their own blanks before seeing yours.'),r.a.createElement("label",{className:"text-light small"},'Any statement setups without at least some text before or after the "shown-as-blank" text will be ignored.'),r.a.createElement("label",{className:"text-light small"},'e.g. "Show me your _________, and I\'m all yours!" (blank: collection of human thumbs)'),r.a.createElement("ul",{className:"list-group d-flex flex-column mt-2"},d.map((function(e,t){return r.a.createElement("li",{className:"list-group-item flex-grow-1 maxW1000 m-0 mt-2 p-2 innerScrollItem statementLI",key:t},e)}))),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn bgLightBlue text-white m-0Auto mt-2",onClick:function(e){e.preventDefault(),m(i+1)}},r.a.createElement("i",{className:"fas fa-plus-circle fa-2x"}))),r.a.createElement("div",{className:"form-check mt-3"},r.a.createElement("input",{type:"checkbox",ref:function(e){return u=e},className:"form-check-input",id:"RevealAllAtOnceCheck"}),r.a.createElement("label",{className:"form-check-label text-light",htmlFor:"RevealAllAtOnceCheck"},"Reveal all statements at once")),r.a.createElement("button",{type:"button",className:"btn bgLightBlue text-white m-0Auto mt-2 innerScrollItem",onClick:function(e){e.preventDefault();for(var t=[],a=o.getElementsByClassName("statementLI"),s=0;s<a.length;s++){var r=a[s].getElementsByClassName("statementPreBlank")[0],l=a[s].getElementsByClassName("statementAsBlank")[0],c=a[s].getElementsByClassName("statementPostBlank")[0];""===l.value||""===r.value&&""===c.value||t.push({preBlank:r.value,asBlank:l.value,blankGuess:"",guessMatch:!1,postBlank:c.value})}var i=u.checked;n({type:A,data:{step:Y}},!1),setTimeout((function(){n({type:A,data:{step:Y,statements:t,revealAllAtOnce:i}},!0)}),750)}},"Send")))))},Be=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={iceBreaker:C},n.ReturnToSelection=n.ReturnToSelection.bind(Object(d.a)(n)),n}return Object(u.a)(a,[{key:"ReturnToSelection",value:function(){this.setState({iceBreaker:C})}},{key:"render",value:function(){var e=this;return this.state.iceBreaker===C?r.a.createElement("div",{className:"h-100 w-100 d-flex flex-column"},r.a.createElement(be,{BackFunc:this.props.ReturnToChat,title:"Ice Breakers",subtitle:this.props.user_Chat_Active?"":" [user offline]"}),r.a.createElement("div",{className:"bg-secondary p-2 flex-grow-1 position-relative",role:"group"},r.a.createElement(se.a,{className:"FullSpreadAbsElem",scrollViewClassName:"d-flex flex-column pad10"},r.a.createElement("button",{type:"button",className:"btn btn-lg bgLightBlue text-white m-0Auto minW50pct maxW1000 innerScrollItem",onClick:function(){return e.setState({iceBreaker:k})},disabled:!this.props.user_Chat_Active},r.a.createElement("i",{className:"fas fa-fist-raised fa-lg transFlipYRot90"}),r.a.createElement("span",{className:"ml-4"},"FIGHT")),r.a.createElement("button",{type:"button",className:"btn btn-lg bgLightBlue text-white m-0Auto mt-2 minW50pct maxW1000 innerScrollItem",onClick:function(){return e.setState({iceBreaker:y})},disabled:!this.props.user_Chat_Active},r.a.createElement("i",{className:"fas fa-gift fa-lg"}),r.a.createElement("span",{className:"ml-4"},"GIFT")),r.a.createElement("button",{type:"button",className:"btn btn-lg bgLightBlue text-white m-0Auto mt-2 minW50pct maxW1000 innerScrollItem",onClick:function(){return e.setState({iceBreaker:S})},disabled:!this.props.user_Chat_Active},r.a.createElement("i",{className:"fas fa-eye-slash fa-lg"}),r.a.createElement("span",{className:"ml-4"},"BLANKS"))))):this.state.iceBreaker===k?r.a.createElement(Ne,{ReturnToSelection:this.ReturnToSelection,user_Chat_Active:this.props.user_Chat_Active,LaunchChatEvent:this.props.LaunchChatEvent}):this.state.iceBreaker===y?r.a.createElement(ke,{ReturnToSelection:this.ReturnToSelection,user_Chat_Active:this.props.user_Chat_Active,LaunchChatEvent:this.props.LaunchChatEvent}):this.state.iceBreaker===S?r.a.createElement(Se,{ReturnToSelection:this.ReturnToSelection,user_Chat_Active:this.props.user_Chat_Active,LaunchChatEvent:this.props.LaunchChatEvent}):void 0}}]),a}(s.Component),we=function(e){var t=e.eventData,a=t.fromSelf,n=t.data,s=e.SendMessage,l=e.UpdateEventData,c=e.ClearEvent,i=e.chatPtnrName,m=function(e,t){if(e===B){if(t===B)return R;if(t===w)return T;if(t===j)return P}else if(e===w){if(t===B)return P;if(t===w)return R;if(t===j)return T}else if(e===j){if(t===B)return T;if(t===w)return P;if(t===j)return R}},o=function(e,t){e.preventDefault(),n.actionsResp.push(t);var a=n.actionsSent[n.actionsResp.length-1];s({type:b,data:{step:_,roundWinner:m(a,t),actionSent:a,actionResp:t}},!1),n.actionsResp.length>=n.actionsSent.length?setTimeout((function(){for(var e=0,t=0,a=0;a<n.actionsSent.length;a++){var r=m(n.actionsSent[a],n.actionsResp[a]);r===T?e++:r===P&&t++}var l=R,i=n.msgTie;e>t?(l=T,i=n.msgWin):e<t&&(l=P,i=n.msgLose),c(),s({type:b,data:{step:W,fightWinner:l,msgEnd:i}},!1)}),750):setTimeout((function(){l({step:_})}),750)};return n.step===U?a?r.a.createElement("div",{className:"d-flex justify-content-center mt-2"},r.a.createElement("div",null,r.a.createElement("div",{className:"messageText text-center text-white"},"Awaiting response..."))):r.a.createElement("div",{className:"d-flex justify-content-center mt-2"},r.a.createElement("div",{className:"messageBox"},r.a.createElement("div",{className:"messageText text-center text-white"},"Your response?"),r.a.createElement("div",{className:"d-flex justify-content-around bgLightBlue mt-1 p-2"},r.a.createElement("button",{className:"btn bg-warning mr-3",onClick:function(e){e.preventDefault(),s({type:b,data:{step:L}},!1),setTimeout((function(){l({step:_})}),750)}},"Fight"),r.a.createElement("button",{className:"btn bg-danger text-white",onClick:function(e){e.preventDefault(),s({type:b,data:{step:M}},!1),c()}},"Flee")))):n.step===_?a?r.a.createElement("div",{className:"d-flex justify-content-center mt-2"},r.a.createElement("div",{className:"messageBox bgLightBlue fromAdmin"},r.a.createElement("div",{className:"messageText text-center text-white"},"Select a move:"),r.a.createElement("div",{className:"d-flex justify-content-around mt-1 p-2"},r.a.createElement("button",{className:"btn bg-warning mr-3",onClick:function(e){return o(e,B)}},r.a.createElement("img",{src:oe.a,alt:"punch",className:"m-1"})),r.a.createElement("button",{className:"btn bg-warning mr-3",onClick:function(e){return o(e,w)}},r.a.createElement("img",{src:de.a,alt:"tackle",className:"m-1"})),r.a.createElement("button",{className:"btn bg-warning",onClick:function(e){return o(e,j)}},r.a.createElement("img",{src:he.a,alt:"kick",className:"m-1"}))))):r.a.createElement("div",{className:"d-flex justify-content-center mt-2"},r.a.createElement("div",null,r.a.createElement("div",{className:"messageText text-center text-white"},i," is selecting a move..."))):""},je=function(e){var t=e.eventData,a=t.fromSelf,n=t.data,s=e.SendMessage,l=e.UpdateEventData,c=e.ClearEvent;e.chatPtnrName;if(n.step===F)return a?r.a.createElement("div",{className:"d-flex justify-content-center mt-2"},r.a.createElement("div",{className:"outerBox"},r.a.createElement("div",{className:"messageText fontSize90 text-center text-white"},"Awaiting response..."))):r.a.createElement("div",{className:"d-flex justify-content-center mt-2"},r.a.createElement("div",{className:"outerBox"},r.a.createElement("div",{className:"messageText fontSize90 text-center text-white"},"Do you accept?"),r.a.createElement("div",{className:"d-flex justify-content-around bgLightBlue mt-2 p-2"},r.a.createElement("button",{className:"btn bg-warning mr-3",onClick:function(e){e.preventDefault();var t=Math.floor(100*Math.random())+1,a=n.sliderPct>=t;s({type:N,data:{step:G,launchTrap:a,giftCanvasSaveData:n.giftCanvasSaveData}},!1),a?setTimeout((function(){l({step:Q})}),750):c()}},"Accept"),r.a.createElement("button",{className:"btn bg-danger text-white",onClick:function(e){e.preventDefault(),c(),s({type:N,data:{step:J}},!1)}},"Reject"))));if(n.step===Q){if(a){var i=0;return setTimeout((function(){var e=n.msgFail;i<15&&(e=n.msgSuccess),c(),s({type:N,data:{step:z,trapSuccess:i<15,giftCanvasSaveData:n.giftCanvasSaveData,msgEnd:e}},!1)}),3e3),r.a.createElement("div",{className:"d-flex justify-content-center mt-2"},r.a.createElement("div",{className:"outerBox messageBox bgLightBlue"},r.a.createElement("div",{className:"messageText text-center text-white"},"But it's a trap!"),r.a.createElement("div",{className:"d-flex justify-content-around mt-1 p-2"},r.a.createElement("button",{className:"btn btn-lg colourFlash font-weight-bold",onClick:function(e){e.preventDefault(),i++}},"!!STRUGGLE!!"))))}return r.a.createElement("div",{className:"d-flex justify-content-center mt-2"},r.a.createElement("div",{className:"outerBox"},r.a.createElement("div",{className:"messageText fontSize90 text-center text-white"},"Trap activated, struggle ensuing...")))}},Te=function(e){var t=e.eventData,a=t.fromSelf,n=t.data,s=e.SendMessage,l=e.UpdateEventData,c=e.ClearEvent,i=e.chatPtnrName,m=r.a.createRef();if(n.step===Y)return a?r.a.createElement("div",{className:"d-flex justify-content-center mt-2"},r.a.createElement("div",{className:"outerBox"},r.a.createElement("div",{className:"messageText text-center text-white"},"Awaiting response..."))):r.a.createElement("div",{className:"d-flex justify-content-center mt-2"},r.a.createElement("div",{className:"outerBox"},r.a.createElement("div",{className:"messageText text-center text-white"},"Give it a try?"),r.a.createElement("div",{className:"d-flex justify-content-around bgLightBlue mt-2 p-2"},r.a.createElement("button",{className:"btn bg-warning mr-3",onClick:function(e){e.preventDefault(),s({type:A,data:{step:V}},!1),setTimeout((function(){l({step:H})}),750)}},"Try"),r.a.createElement("button",{className:"btn bg-danger text-white",onClick:function(e){e.preventDefault(),s({type:A,data:{step:Z}},!1),c()}},"Deny"))));if(n.step===H){var o=[],u=-1;if(n.revealAllAtOnce)for(var d=0;d<n.statements.length;d++)o.push(r.a.createElement("span",{key:d},r.a.createElement("span",null,ie.a.emojify(n.statements[d].preBlank)),a?r.a.createElement("input",{type:"text",className:"bg-transparent text-danger inlineInput blankInputElem",size:n.statements[d].asBlank.length}):r.a.createElement("u",{className:"text-danger"},ie.a.emojify(n.statements[d].asBlank)),r.a.createElement("span",null,ie.a.emojify(n.statements[d].postBlank)),"\xa0"));else{for(var f=0;f<n.statements.length;f++)if(""===n.statements[f].blankGuess){u=f;break}o.push(r.a.createElement("span",{key:u},r.a.createElement("span",null,ie.a.emojify(n.statements[u].preBlank)),a?r.a.createElement("input",{type:"text",ref:function(e){return m=e},className:"bg-transparent text-danger inlineInput",size:n.statements[u].asBlank.length}):r.a.createElement("u",{className:"text-danger"},ie.a.emojify(n.statements[u].asBlank)),r.a.createElement("span",null,ie.a.emojify(n.statements[u].postBlank))))}return a?r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex justify-content-center mt-2"},r.a.createElement("div",{className:"outerBox"},r.a.createElement("div",{className:"messageText text-center text-white"},"Fill in the blank:"),r.a.createElement("div",{className:"messageText text-center messageBox fromAdminOfOther mt-2 mb-2"},o))),r.a.createElement("div",{className:"d-flex justify-content-around mt-1 p-2"},r.a.createElement("button",{className:"btn bg-warning font-weight-bold",onClick:function(e){return function(e,t){if(e.preventDefault(),n.revealAllAtOnce){for(var a=document.getElementsByClassName("blankInputElem"),r=0,i=0;i<n.statements.length;i++)n.statements[i].blankGuess=a[i].value,n.statements[i].guessMatch=a[i].value.toLowerCase().trim()===n.statements[i].asBlank.toLowerCase().trim(),n.statements[i].guessMatch&&r++;s({type:A,data:{step:H,statements:n.statements,revealAllAtOnce:n.revealAllAtOnce}},!1),setTimeout((function(){c(),s({type:A,data:{step:K,statementCount:n.statements.length,matchCount:r}},!1)}),750)}else n.statements[t].blankGuess=m.value,n.statements[t].guessMatch=m.value.toLowerCase().trim()===n.statements[t].asBlank.toLowerCase().trim(),s({type:A,data:{step:H,preBlank:n.statements[t].preBlank,asBlank:n.statements[t].asBlank,postBlank:n.statements[t].postBlank,blankGuess:n.statements[t].blankGuess,guessMatch:n.statements[t].guessMatch}},!1),""===n.statements[n.statements.length-1].blankGuess?setTimeout((function(){l({step:H,statements:n.statements})}),750):setTimeout((function(){for(var e=0,t=0;t<n.statements.length;t++)n.statements[t].guessMatch&&e++;c(),s({type:A,data:{step:K,statementCount:n.statements.length,matchCount:e}},!1)}),750)}(e,u)}},"Submit"))):r.a.createElement("div",{className:"d-flex justify-content-center mt-2"},r.a.createElement("div",{className:"outerBox"},r.a.createElement("div",{className:"messageText text-center text-white"},i," is filling in the blank of:"),r.a.createElement("div",{className:"messageText text-center messageBox fromAdminOfSelf mt-2 mb-2"},o)))}return""},Pe=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={msgText:"",preppingChatEvent:!1},n.SendText=n.SendText.bind(Object(d.a)(n)),n.LaunchChatEvent=n.LaunchChatEvent.bind(Object(d.a)(n)),n.ChooseIceBreaker=n.ChooseIceBreaker.bind(Object(d.a)(n)),n.ReturnToChat=n.ReturnToChat.bind(Object(d.a)(n)),n}return Object(u.a)(a,[{key:"SendText",value:function(e){e.preventDefault(),this.state.msgText?this.props.user_Chat_Active?(console.log('SendMessage called in Chat.js, msgText: "'.concat(this.state.msgText,'" to user: "').concat(this.props.user_Chat.id,'"')),this.setState({msgText:""}),this.props.SendMessage({type:x,data:this.state.msgText},!1)):console.warn("Message not sent, that user has been removed from the server."):console.warn("Message not sent, must send more than nothing.")}},{key:"LaunchChatEvent",value:function(e,t){this.props.user_Chat_Active?(this.setState({preppingChatEvent:!1}),this.props.SendMessage(e,t)):console.warn("Message not sent, that user has been removed from the server.")}},{key:"ChooseIceBreaker",value:function(e){e.preventDefault(),this.setState({preppingChatEvent:!0}),this.props.PreppingCE(this.props.user_Chat.id,!0)}},{key:"ReturnToChat",value:function(){this.setState({preppingChatEvent:!1}),this.props.PreppingCE(this.props.user_Chat.id,!1)}},{key:"render",value:function(){var e=this;if(this.state.preppingChatEvent)return r.a.createElement(Be,{ReturnToChat:this.ReturnToChat,user_Chat_Active:this.props.user_Chat_Active,LaunchChatEvent:this.LaunchChatEvent});var t=!this.props.user_Chat_Active||this.props.user_Chat.disableSend,a=!!this.props.user_Chat&&this.props.user_Chat.isPreppingCE,n="";if(this.props.user_Chat.chatEvent&&this.props.user_Chat.chatEventDisp){var s=this.props.user_Chat.chatEvent;s.type===b?n=r.a.createElement(we,{eventData:s,SendMessage:this.props.SendMessage,UpdateEventData:this.props.UpdateEventData,ClearEvent:this.props.ClearEvent,chatPtnrName:this.props.user_Chat.name}):s.type===N?n=r.a.createElement(je,{eventData:s,SendMessage:this.props.SendMessage,UpdateEventData:this.props.UpdateEventData,ClearEvent:this.props.ClearEvent,chatPtnrName:this.props.user_Chat.name}):s.type===A&&(n=r.a.createElement(Te,{eventData:s,SendMessage:this.props.SendMessage,UpdateEventData:this.props.UpdateEventData,ClearEvent:this.props.ClearEvent,chatPtnrName:this.props.user_Chat.name}))}return r.a.createElement("div",{className:"h-100 d-flex flex-column justify-content-between"},r.a.createElement(le,{ToPageUsers:this.props.ToPageUsers,user_Chat:this.props.user_Chat,user_Chat_Active:this.props.user_Chat_Active}),r.a.createElement("div",{className:"flex-grow-1 bg-secondary"},r.a.createElement("div",{className:"maxW1000 m-0Auto h-100 position-relative"},r.a.createElement(se.a,{className:"FullSpreadAbsElem",scrollViewClassName:"pad10"},this.props.user_Chat.messages.map((function(t,a){return r.a.createElement("div",{className:"innerScrollItem",key:a},r.a.createElement(xe,{message:t,chatPtnrName:e.props.user_Chat.name}))})),r.a.createElement("div",{className:"innerScrollItem"},n)))),r.a.createElement("div",{className:"bg-secondary"},r.a.createElement("form",{className:"maxW1000 m-0Auto d-flex align-items-stretch p-2"},r.a.createElement("button",{className:"btn noBorder bgLightBlue text-white mr-2",onClick:this.ChooseIceBreaker,disabled:t||a},r.a.createElement("i",{className:"fas fa-handshake fa-lg"})),r.a.createElement("input",{className:"form-control form-control-lg flex-grow-1 noBorder",type:"text",placeholder:"message",value:this.props.user_Chat_Active?this.state.msgText:"",onChange:function(t){return e.setState({msgText:t.target.value})},onKeyPress:function(t){return"Enter"===t.key?e.SendText(t):null},disabled:t}),r.a.createElement("button",{className:"btn noBorder bg-white",onClick:this.SendText,disabled:t},r.a.createElement("i",{className:"fas fa-paper-plane fa-lg"})))))}}]),a}(s.Component),Re=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={page:v,users:[],user_Chat:null},e.socket.on("RecNewUser",(function(e){console.log('Adding user: "'.concat(e.id,'"')),n.setState({users:[].concat(Object(q.a)(n.state.users),[e])})})),e.socket.on("RemoveUser",(function(e){console.log('Removing user: "'.concat(e,'"'));var t=n.state.users.findIndex((function(t){return t.id===e}));-1!==t&&(n.state.users.splice(t,1),n.setState({users:n.state.users}))})),e.socket.on("RecLikeToggle",(function(e){console.log('Liked by user: "'.concat(e.socketID,'"'));var t=n.state.users.findIndex((function(t){return t.id===e.socketID}));n.state.users[t].likesMe=e.likesMe,n.setState({users:n.state.users})})),e.socket.emit("GetUsers",{},(function(e){for(var t=0;t<e.length;t++)console.log('Adding users: "'.concat(e[t].id,'"'));n.setState({users:e})})),e.socket.on("RecPreppingCE",(function(e){n.setState((function(t){var a=t.users.findIndex((function(t){return t.id===e.chatPtnrID}));return t.users[a].isPreppingCE=e.isPreppingCE,t.user_Chat&&t.user_Chat.id===e.chatPtnrID&&(t.user_Chat.isPreppingCE=e.isPreppingCE),{users:t.users,user_Chat:t.user_Chat}}))})),e.socket.on("RecMessage",(function(e){n.setState((function(t){var a=t.users.findIndex((function(t){return t.id===e.msgData.chatPtnrID})),s=Object(X.a)({},e.msgData,{fromSelf:!1});e.isEvent?(t.users[a].chatEvent=s,t.users[a].chatEventDisp=!0,t.users[a].disableSend=!0):(t.users[a].messages.push(s),t.users[a].chatEventDisp=!1);var r=!0;return n.state.user_Chat&&n.state.user_Chat.id===e.msgData.chatPtnrID&&(r=!1),t.users[a].unreadMsg=r,{users:t.users,user_Chat:!1===r?t.users[a]:null}}))})),e.socket.on("RecUpdateEvent",(function(e){n.setState((function(t){var a=t.users.findIndex((function(t){return t.id===e.chatPtnrID})),n=Object(X.a)({},t.users[a].chatEvent,{fromSelf:!1});return n.data=Object(X.a)({},n.data,{},e.updatedData),t.users[a].chatEvent=n,t.users[a].chatEventDisp=!0,{users:t.users,user_Chat:t.users[a]}}))})),e.socket.on("RecClearEvent",(function(e){n.setState((function(t){var a=t.users.findIndex((function(t){return t.id===e}));return t.users[a].chatEvent=null,t.users[a].disableSend=!1,{users:t.users,user_Chat:t.users[a]}}))})),n.ToPageUsers=n.ToPageUsers.bind(Object(d.a)(n)),n.LikeUserToggle=n.LikeUserToggle.bind(Object(d.a)(n)),n.ToPageChat=n.ToPageChat.bind(Object(d.a)(n)),n.PreppingCE=n.PreppingCE.bind(Object(d.a)(n)),n.SendMessage=n.SendMessage.bind(Object(d.a)(n)),n.UpdateEventData=n.UpdateEventData.bind(Object(d.a)(n)),n.ClearEvent=n.ClearEvent.bind(Object(d.a)(n)),n}return Object(u.a)(a,[{key:"ToPageUsers",value:function(){this.setState({user_Chat:null,page:v})}},{key:"LikeUserToggle",value:function(e,t){this.props.socket.emit("LikeUserToggle",{userID:e,isLiked:t}),this.setState((function(a){return{users:a.users.map((function(a){return a.id===e?Object(X.a)({},a,{likeThem:t}):a}))}}))}},{key:"ToPageChat",value:function(e){this.setState((function(t){return{users:t.users.map((function(t){return t.id===e.id?Object(X.a)({},t,{unreadMsg:!1}):t})),user_Chat:e,page:E}}))}},{key:"PreppingCE",value:function(e,t){this.props.socket.emit("PreppingCE",{chatPtnrID:e,isPreppingCE:t})}},{key:"SendMessage",value:function(e,t){this.props.socket.emit("SendMessage",{msgData:Object(X.a)({},e,{chatPtnrID:this.state.user_Chat.id}),isEvent:t}),this.setState((function(a){var n=a.users.findIndex((function(e){return e.id===a.user_Chat.id})),s=Object(X.a)({},e,{fromSelf:!0});return t?(a.users[n].chatEvent=s,a.users[n].chatEventDisp=!0,a.users[n].disableSend=!0):(a.users[n].messages.push(s),a.users[n].chatEventDisp=!1),{users:a.users,user_Chat:a.users[n]}}))}},{key:"UpdateEventData",value:function(e){this.props.socket.emit("UpdateEvent",{updatedData:e,chatPtnrID:this.state.user_Chat.id}),this.setState((function(t){var a=t.users.findIndex((function(e){return e.id===t.user_Chat.id})),n=Object(X.a)({},t.users[a].chatEvent,{fromSelf:!0});return n.data=Object(X.a)({},n.data,{},e),t.users[a].chatEvent=n,t.users[a].chatEventDisp=!0,console.log(t.users[a].chatEvent),{users:t.users,user_Chat:t.users[a]}}))}},{key:"ClearEvent",value:function(){this.props.socket.emit("ClearEvent",this.state.user_Chat.id),this.setState((function(e){var t=e.users.findIndex((function(t){return t.id===e.user_Chat.id}));return e.users[t].chatEvent=null,e.users[t].disableSend=!1,{users:e.users,user_Chat:e.users[t]}}))}},{key:"render",value:function(){var e=this;if(this.state.page===v)return r.a.createElement(re,{users:this.state.users,LikeUserToggle:this.LikeUserToggle,ToPageChat:this.ToPageChat});if(this.state.page===E){var t=!0;return this.state.user_Chat&&-1===this.state.users.findIndex((function(t){return t.id===e.state.user_Chat.id}))&&(t=!1),r.a.createElement(Pe,{user_Chat:this.state.user_Chat,user_Chat_Active:t,PreppingCE:this.PreppingCE,SendMessage:this.SendMessage,UpdateEventData:this.UpdateEventData,ClearEvent:this.ClearEvent,ToPageUsers:this.ToPageUsers})}}}]),a}(s.Component),Ie=function(e){var t=e.percent,a={width:t+"%"};return r.a.createElement("div",{id:"ImageUploadBar",className:"progress position-absolute h-100 w-100"},r.a.createElement("div",{role:"progressbar",className:"progress-bar progress-bar-striped bg-success progress-bar-animated transitionNone",style:a,"aria-valuenow":t,"aria-valuemin":"0","aria-valuemax":"100"}))},De=window.URL||window.webkitURL,Oe=["jpg","jpeg","png","gif"],Ue=function(e){var t=e.GetImgDetails,a=e.imgSrc,n=e.orientation,s=e.isPortrait,l=e.disabled,c=e.willLoadFile,i=e.percent,m=c?r.a.createElement(Ie,{percent:i}):"",o=r.a.createElement("img",{src:a,alt:"User avatar",className:s?"portrait":""});return r.a.createElement("div",{className:"mt-2"},r.a.createElement("div",{id:"AvatarSelected",className:"avatarsUserIdent rounded-circle mt-1 mb-1 mt-md-3 mb-md-3 mt-lg-5 mb-lg-5"},o),r.a.createElement("input",{id:"HiddenFileUploader",placeholder:"File",className:"d-none",type:"file",accept:"image/*",capture:"user",onChange:function(e){if(1===e.target.files.length){var a=e.target.value,s=a.slice(2+(a.lastIndexOf(".")-1>>>0));if(-1!==Oe.indexOf(s)){var r=e.target.files[0],l=new Image;l.onload=function(){console.log("img width: "+l.width+", height: "+l.height),t(s,r,l.src,n,l.height>l.width)},l.src=De.createObjectURL(r)}else alert("Image must have extension: jpg, jpeg, png, or gif")}else alert("Can only use 1 photo at a time.")},disabled:l}),r.a.createElement("button",{className:"btn btn-secondary btn-lg btn-block mt-2 position-relative",onClick:function(){document.getElementById("HiddenFileUploader").click()},disabled:l},r.a.createElement("span",null,"Upload picture"),m))};n=g()();var Le=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={file:null,percent:0,disabled:!1,signedIn:!1},s.nameField=r.a.createRef(),s.fileExt="",s.fileSrc=ee.a,s.orientation=1,s.isPortrait=!1,s.slice=null,s.fileReader=null,n.on("ImageReqSlice",(function(e){var t=1e5*e.currentSlice;s.slice=s.state.file.slice(t,t+Math.min(1e5,s.state.file.size-t));var a=t/s.state.file.size*100;s.setState({percent:a}),s.fileReader.readAsArrayBuffer(s.slice)})),n.on("ImageUploadError",(function(e){console.log("Could not upload image due to error: ",e),s.fileReader.abort(),alert("Error uploading image, restoring default, my bad. :("),s.fileExt="",s.fileSrc=ee.a,s.isPortrait=!1,s.orientation=1,s.setState({file:null,disabled:!1,percent:0})})),n.on("ImageUploadEnd",(function(e){s.fileReader.onload=function(e){console.log("Image upload successful"),s.setState({file:null,percent:100}),n.emit("AddUser",{name:s.nameField.current.value,ext:s.fileExt,orientation:s.orientation,isPortrait:s.isPortrait},(function(){s.setState({signedIn:!0})}))},s.fileReader.readAsDataURL(s.state.file)})),s.SubmitProfile=s.SubmitProfile.bind(Object(d.a)(s)),s.GetImgDetails=s.GetImgDetails.bind(Object(d.a)(s)),s}return Object(u.a)(a,[{key:"SubmitProfile",value:function(e){var t=this;e.preventDefault();var a=this.nameField.current.value;""!==a?(this.setState({disabled:!0}),console.log("Submit clicked - Name: ".concat(a,", Ext: ").concat(this.fileExt,", src: ").concat(this.fileSrc,", orientation: ").concat(this.orientation,", isPortrait: ").concat(this.isPortrait,", file:"),this.state.file),null===this.state.file?n.emit("AddUser",{name:a,ext:this.fileExt,orientation:this.orientation,isPortrait:this.isPortrait},(function(){t.setState({signedIn:!0})})):(this.slice=this.state.file.slice(0,1e5),this.fileReader=new FileReader,this.fileReader.onload=function(e){n.emit("ImageUploadSlice",{ext:t.fileExt,name:a,type:t.state.file.type,size:t.state.file.size,data:e.target.result})},this.fileReader.readAsArrayBuffer(this.slice))):alert("Name required")}},{key:"GetImgDetails",value:function(e,t,a,n,s){console.log("Ext: ".concat(e,", src: ").concat(a,", orientation: ").concat(n,", isPortrait: ").concat(s,", file:"),t),this.fileExt=e,this.fileSrc=a,this.orientation=n,this.isPortrait=s,this.setState({file:t})}},{key:"render",value:function(){var e=this.state.disabled&&null!==this.state.file;return this.state.signedIn?r.a.createElement(Re,{socket:n}):r.a.createElement("div",{className:"position-relative h-100"},r.a.createElement("div",{className:"container-fluid h-100 d-flex flex-column justify-content-center align-items-center"},r.a.createElement("div",null,r.a.createElement("div",{className:"head1 text-center text-white"},"Welcome"),r.a.createElement("hr",{className:"bg-light mt-1 mb-2 mt-md-2 mb-md-3 mt-lg-3 mb-lg-4"}),r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Name",ref:this.nameField,onKeyPress:function(e){return"Enter"===e.key?e.target.blur():null},disabled:this.state.disabled})),r.a.createElement("div",null,r.a.createElement(Ue,{GetImgDetails:this.GetImgDetails,imgSrc:this.fileSrc,orientation:this.orientation,isPortrait:this.isPortrait,disabled:this.state.disabled,willLoadFile:e,percent:this.state.percent}),r.a.createElement("button",{className:"btn btn-primary btn-lg btn-block mt-2",onClick:this.SubmitProfile,disabled:this.state.disabled},"Sign In"))))}}]),a}(s.Component),Me=function(){return r.a.createElement(i.a,null,r.a.createElement(m.a,{path:"/*",exact:!0,component:Le}))};c.a.render(r.a.createElement(Me,null),document.querySelector("#root"))},41:function(e,t,a){e.exports=a.p+"static/media/SpeechlessGuy.8d8d757b.png"}},[[159,1,2]]]);
//# sourceMappingURL=main.2cd49af6.chunk.js.map