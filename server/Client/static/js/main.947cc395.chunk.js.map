{"version":3,"sources":["images/Punch_02_32x32.png","images/Tackle_01_32x32.png","images/Kick_02_32x32.png","components/Join.js","Consts.js","components/Lobby/UserIdent.js","components/Lobby/Users/User.js","components/Lobby/Users/Users.js","components/Lobby/Chat/UserInfoBar.js","components/Lobby/Chat/IceBreakers/Fight/Outcome.js","components/Lobby/Chat/IceBreakers/Trap/Outcome.js","components/Lobby/Chat/Message.js","components/Lobby/Chat/PageTitleBar.js","components/Lobby/Chat/IceBreakers/Fight/Setup.js","components/Lobby/Chat/IceBreakers/Trap/Setup.js","components/Lobby/Chat/IceBreakerSelection.js","components/Lobby/Chat/IceBreakers/Fight/Engage.js","components/Lobby/Chat/IceBreakers/Trap/Engage.js","components/Lobby/Chat/Chat.js","components/PageSelection.js","components/LoadBar.js","components/ImgUpload.js","App.js","index.js","images/SpeechlessGuy.png"],"names":["module","exports","socket","pages","msgTypes","iceBreakers","fightRoundActions","fightWinner","fightSteps","trapSteps","UserIdent","name","online","imgSrc","imgIsPortrait","className","src","defaultImg","alt","User","user","LikeUserToggle","ToPageChat","html_likeBtnVisual","likeThem","mutual","likesMe","html_SpeechBtnVisual","html_UnreadMsgNotif","unreadMsg","classes","chatEvent","isPortrait","onClick","id","disabled","Users","users","scrollViewClassName","map","i","key","UserInfoBar","ToPageUsers","user_Chat","user_Chat_Active","IBFightOutcome","roundWinner","message","fromSelf","data","chatPtnrName","GetImage","action","Consts","imgPunch","imgTackle","imgKick","step","msg","ReactEmoji","emojify","msgProvoke","msgEnd","IBTrapOutcome","GetGiftCanvas","canGift","giftCanvas","hideGrid","canvasWidth","canvasHeight","saveData","giftCanvasSaveData","hideInterface","giftText","launchTrap","trapSuccess","Message","type","PageTitleBar","BackFunc","title","subtitle","IBFightSetup","ReturnToSelection","LaunchChatEvent","elem_Form","React","createRef","elem_ProvokeMsg","elem_WinMsg","elem_LoseMsg","elem_TieMsg","rounds","radioName","push","htmlFor","value","defaultChecked","role","ref","form","placeholder","event","preventDefault","actionsSent","btns","elements","j","length","checked","parseInt","current","msgWin","msgLose","msgTie","setTimeout","actionsResp","IBTrapSetup","useState","sliderPct","SetSliderPct","colour","SetColour","brushRadius","SetBrushRadius","canvasRef","useRef","elem_GiftText","elem_SuccessMsg","elem_FailMsg","lazyRadius","brushColor","isNaN","color","onChangeComplete","newColour","hex","undo","clear","onChange","e","target","min","max","getSaveData","msgSuccess","msgFail","IceBreakerSelection","props","state","iceBreaker","bind","this","setState","ReturnToChat","Component","IBFightEngage","eventData","SendMessage","UpdateEventData","ClearEvent","AssessRoundWinner","actionOfSender","actionOfReponder","OnAct","fightAction","actionSent","actionResp","senderWins","responderWins","IBTrapEngage","randNum","Math","floor","random","btnPresses","Chat","msgText","preppingChatEvent","SendText","ChooseIceBreaker","console","log","warn","dataObj","asEvent","disableSend","chatEventDisp","evt","messages","onKeyPress","PageSelection","page","on","userID","removeIndex","findIndex","splice","userData","socketID","changeIndex","emit","recObj","prevState","msgData","chatPtnrID","moddedMsgObj","isEvent","updatedData","isLiked","elem","LoadBar","percent","barStyle","width","style","aria-valuenow","aria-valuemin","aria-valuemax","URL","window","webkitURL","extArr","ImgUpload","GetImgDetails","orientation","willLoadFile","html_LoadBar","imgTag","accept","capture","files","fname","ext","slice","lastIndexOf","indexOf","file","img","Image","onload","height","createObjectURL","alert","document","getElementById","click","io","Join","signedIn","nameField","fileExt","fileSrc","fileReader","resObj","place","currentSlice","size","readAsArrayBuffer","error","abort","readAsDataURL","SubmitProfile","FileReader","result","blur","App","path","exact","component","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.947cc395.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAC33pUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHja7ZdBkuQoDEX3nGKOgCSExHGwgYi+wRx/PphyVmZVd8T09GIWacIGy+IL9GRnVeh//xjhLxxUJIak5rnkHHGkkgpXDDxex9VTTOu6Dt6PcP9kD/cDhknQy3Wb+/avsOtjgqVtP57twc6t41toP/gQlBl5Rtt+voWELzvt+1D2vJo+bWefR9s2vbrX+2RIRlPoCQfuQhJxzTOKXGfFqbiSJDiR2Bo7rjz9vstduIcvybtHL7mLddvlORUh5u2QX3K07aTf525l6POK6BH56YHJHeJL7sZoPka/dldTRqZy2Jv62MoawfFAKmVNy2iGUzG21QqaY4sniDXQPNDOQIUY2R6UqFGlQX31J51YYuLOhp75ZFk2F+PCp0wEaTYabFKkBbBgOUFNYOZ7LbTilhXvJEfkRvBkghhhxpcWvjP+TruFxpilSxT9zhXWxbOmsYxJbl7hBSA0dk515Xe18Klu4iewAoK60uzYYI3HJXEoPWpLFmeBn8YU4vVqkLUtgBQhtmIxJCAQM4lSpmjMRoQ8OvhUrJxR9gcIkCo3CgNsRDLgOM/YmGO0fFn5MuPTAhAqGa+Kg1AFrJQU9WPJUUNVRVNQ1aymrkVrlpyy5pwtz29UNbFkatnM3IpVF0+unt3cvXgtXASfMC25WCheSqkVQSukK2ZXeNR68CFHOvTIhx1+lKOeKJ8znXrm004/y1kbN2l4/VtuFpq30mqnjlLqqWvP3br30utArQ0ZaejIw4aPMupNbVN9pkYv5H5NjTa1SSwtP3tQg9nsQ4Lm50QnMxDjRCBukwAKmiez6JQST3KTWSyMl0IZ1EgnnEaTGAimTqyDbnYPcr/kFjT9K278M3JhovsT5MJEt8l95fYNtVbXL4osQPMtnDmNMvBhg0P3yl7nb9Jv9+G/CryF3kJvobfQW+gt9Bb6/wgN/PGAfzXDP+WRkYgEmS+0AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkBQ4VEhuBQtPTAAABqklEQVRIx52UTShEURTHf8akzEIWSjEbSVGUQqmRhRKlFCEbzWKUrY+djWKDDaXUyEYNpSwosaJZzNJHRFmw8VEWs5mZfH9cC8fzZrzx3n3/uzjv/u89/3vOueddsEMec6RIMIMHV5hEyRh3J3BiCBxaLduH9WR8PbqLoN+IoAeX6GSLTTqsF3NNyTThI26xx0clBwwRIGZKSJAj1kuUABDjyCQK8EGIDYIArNOfLcxWI1OrsST2mDB+61uI2zTT9w0U4SdinQJMMUacea4zUnhnmXymmQAe2KHX5JMmkB27tJNigVLeGCBBse41zqJQXBFFoZjR74NBKeEiinsK9QXaROCWJRrcdGKd6UJr9X8m+LTsXA0B9d+ix1ERf1GvX4GRtKa+1H3YangW13OxQT2BqLhNUcYbCsWFjntA3GMALMusz7lARFy+S1fBZ/bH1QpekqbzAdZEsMWZQLNsHzaYWmG2nQmMyvZqE7cnXLmTRqqSRj4zcQtiQ04i2EehOM1g71Ao7pxEUADASwa7AkAJAXsBj5yYjlWxr/YpDJDkhsY/fBdhun8mX1m4re0W+oxcAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAC3XpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHja7ZdBkuQoDEX3nGKOgCSExHGwgYi+wRx/PphyVmZVd8T09GIWacIGy/IX6AlnVeh//xjhLxxUJIak5rnkHHGkkgpXDDxex9VTTOu6Dt6PcP9kD/cDhknQy3Wb+/avsOvjBUvbfjzbg51bx7fQfvAhKDPyjLb9fAsJX3ba96Hs92r6tJx9Hm3b9Ope75MhGU2hJxy4C0nENc8ocp0Vp+JKkuBEYmt8Xfn73IV7+JK8e/SSu1i3XZ5TEWLeDvklR9tO+n3uVoY+z4gekZ8emNwhvuRujOZj9Gt1NWVkKoe9qI+lrBEcD6RS1msZzXAqxrZaQXMs8QSxBpoH2hmoECPbgxI1qjSor/6kE1NM3NnQM58sy+ZiXPiUiSDNRoNNirQgDk4nqAnMfM+FVtyy4p3kiNwInkwQA7mvLXxn/J12C40xS5co+p0rzItn1WAak9y8wgtAaOyc6srvauFT3cRPYAUEdaXZscAaj0viUHrUlizOAj+NKcRra5C1LYAUIbZiMiQgEDOJUqZozEaEPDr4VMycUfYHCJAqNwoDbEQy4DjP2HjHaPmy8mXGpwUgVDI2iYNQBayUFPVjyVFDVUVTUNWspq5Fa5acsuacLc9vVDWxZGrZzNyKVRdPrp7d3L14LVwEnzAtuVgoXkqpFUErpCvervCo9eBDjnTokQ87/ChHPVE+Zzr1zKedfpazNm7SsP1bbhaat9Jqp45S6qlrz92699LrQK0NGWnoyMOGjzLqTW1TfaZGL+R+TY02tUksLT97UIPZ7EOC5udEJzMQ40QgbpMACpons+iUEk9yk1ksjE2hDGqkE06jSQwEUyfWQTe7B7lfcgua/hU3/hm5MNH9CXJhotvkvnL7hlqr6xdFFqC5C2dOowx82ODQvbLX+Zv02334rwJvobfQW+gt9BZ6C72F/j9CA3884F/N8A+Ry5GC1Ba05AAAAAJiS0dEAP+Hj8y/AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH5AUOFRENXrs1QQAAAcFJREFUSMellcsrRUEcxz/I48pjgVKSSN0k5S7svEpecUlZKRYWNlKytCDPhT/AQlZISSnZCHksLMRGoUgeG6+8blyhOBZ3TOece48z9/jN4sz8zny+c+b85vebKIItkQJi8OHQmvGhoTFJpBM8nTc00bpUAPMqNbhkv96JwKNF39IiTONY9nED8E0p2yTgpYICovCxwwJ79pIZTHHABtXEM8iz/COBtkqu6u8s49AEB9or1fZwEnMh4UD7oPJvvIgLA3BKPJBKJ0/C80K2Nd6AP2jNFvEuS0qPWeFVfIb46HPixPs8IV8bGs8Ux1hjwrSNHjknlw4KrdafFdNvaKbbIPBAskro9nSI37SZURUBL/c6ZNMU/1QViWgameEWDT8eFg0S4+GktZsUIN8UjcLw68OWQWA7PNjDbtCJaFOFIxjgSwe+i+cVCSp4Mms6+JhO0mRujqkIrEj4jnbhq5Df4rYXuJIC67oCMi98y/YCrboNvDEkCm2WrNhee4k6Tg3ZWAxAn6wQLnsJF/26O+JS+M7EuFctmDksCeBEeJpkqmWqnoh6jrimPChC007vzjyR5tc4thE0NIb5h5Xg+e3+AJ5bIiPN9MLVAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAC3npUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHja7ZdBkuQoDEX3nGKOgCSExHGwgYi+wRx/PphyVmZVd8T09GIWacIGy+IL9ICsCv3vHyP8hYuKxJDUPJecI65UUuGKhsfrumqKaT3XxfsT3p/s4f7AMAlquV5z3/4Vdn10sLTtx7M92Ll1fAvtDx+CMiPPaNvPt5DwZaf9HsruV9On6ez7aNumV/X6ngzJaAo94cBdSCKeeUaR6664FU+SBCcSW+2y7On73IW7+ZK8u/WSu1i3XZ5TEWLeDvklR9tO+n3uVoY+j4gekZ8+mNwhvuRujOZj9Gt2NWVkKoc9qY+prBYcD6RSVreMYrgVbVuloDimeIJYA80D5QxUiJHtQYkaVRrUV33SiSEm7myomU+WZXMxLnzKRJBmocEGDC2Ig9MJagIz32OhFbeseCc5IjeCJxPECD2+lPCd8XfKLTTGXLpE0e9cYVw81zSGMcnNJ7wAhMbOqa78rhI+rZv4CayAoK40OyZY43FJHEqPtSWLs8BPYwrx2hpkbQsgRYitGAwJCMRMopQpGrMRIY8OPhUjZyz7AwRIlRuFATYiGXCcZ2z0MVq+rHyZcbQAhErGVvG5UQArJcX6seRYQ1VFU1DVrKauRWuWnLLmnC3PM6qaWDK1bGZuxaqLJ1fPbu5evBYugiNMSy4WipdSakXQCumK3hUetR58yJEOPfJhhx/lqCeWz5lOPfNpp5/lrI2bNGz/lpuF5q202qljKfXUtedu3XvpdWCtDRlp6MjDho8y6k1tU32mRi/kfk2NNrVJLC0/e1CD2exDguZxopMZiHEiELdJAAuaJ7PolBJPcpNZLIxNoQxqpBNOo0kMBFMn1kE3uwe5X3ILmv4VN/4ZuTDR/QlyYaLb5L5y+4Zaq+sXRRaguQtnTqMMHGxw6F7Z6/xN+u06/FeBt9Bb6C30FnoLvYXeQv8foYE/HvCvZvgHu7SRhcbx1mEAAAACYktHRAD/h4/MvwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB+QFDhUTBvtfjksAAAGPSURBVEjHvZXNK0RRGIefGcr4SDKJLGQWJEqyIqws1SQKUxILVqaZyPwBFrNRKDYiWxtkJUVRFjayNomNhjEzZTUW0hyLe7ruzLl3rrkT71m95/e7zz3nPV9QYpThYhwfD84RewgEW84BQrY1p4BDHbFi6fHip85KrOJKRyyYOmp5RvBIpTXiWgKy+E30XqkuWk+jhltpytCnqC5iCASv1mOAJp4k4oUWRZ2RWlBHTrBBiHqjqZWEtN1RpSDuEQgSVAIeLqUzTpvR1M+HFA4UwLRUQkBQL7rg1JVjm9I/DXOOJ0c7owFI4mOfSb03m/+nqIFu3sLsGrKkWvELG0CKYUO2qq5HI3EbxBIBUgg+WafMbElHbQBveIAuqq32RI9tHeYLHy97QOzHXF4AdExUOfpDbALtjHNkP4IdRemkmzQCwc1vppAPWJYnVlMHtE53EVfPmNwpWkSKB2zzZcj8NBULOKCZWU7IAJDmvfgialHBCBE6nKyCSbhLfZn+BCBKfy+1CzbgHOFljkH+J74ByqfzaSxfi4YAAAAASUVORK5CYII=\"","import React, { Component } from 'react';\r\nimport io from 'socket.io-client';\r\nimport * as Consts from '../Consts';\r\n\r\nimport PageSelection from './PageSelection';\r\nimport ImgUpload from './ImgUpload';\r\n\r\nimport defaultImg from '../images/SpeechlessGuy.png';\r\n\r\nlet socket;\r\n\r\n// TAG (build): Remove \"Consts.ENDPOINT\" on build/deployment\r\nsocket = io();\r\n\r\nclass Join extends Component {\r\n\r\n    state = {\r\n        file: null,\r\n        percent: 0,\r\n        disabled: false,\r\n        signedIn: false\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.nameField = React.createRef();\r\n        this.fileExt = '';\r\n        this.fileSrc = defaultImg;\r\n        this.orientation = 1;\r\n        this.isPortrait = false;\r\n\r\n        this.slice = null;\r\n        this.fileReader = null;\r\n\r\n        socket.on('ImageReqSlice', (resObj) => {\r\n            let place = resObj.currentSlice * Consts.SLICE_SIZE;\r\n            this.slice = this.state.file.slice(place, place + Math.min(Consts.SLICE_SIZE, this.state.file.size - place)); \r\n\r\n            const percent = (place / this.state.file.size) * 100;\r\n            this.setState({ percent });\r\n\r\n            this.fileReader.readAsArrayBuffer(this.slice);\r\n        });\r\n\r\n        // TODO: Make sure file reader is shut down as soon as error hits!\r\n\r\n        socket.on('ImageUploadError', (error) => {\r\n            console.log('Could not upload image due to error: ', error);\r\n            this.fileReader.abort();\r\n            alert(\"Error uploading image, restoring default, my bad. :(\");\r\n            this.fileExt = '';\r\n            this.fileSrc = defaultImg;\r\n            this.isPortrait = false;\r\n            this.orientation = 1;\r\n            this.setState({\r\n                file: null,\r\n                disabled: false,\r\n                percent: 0\r\n            });\r\n        });\r\n        socket.on('ImageUploadEnd', (resObj) => {\r\n            this.fileReader.onload = (evt) => {\r\n                console.log('Image upload successful');\r\n                this.setState({\r\n                    file: null,\r\n                    percent: 100\r\n                });\r\n\r\n                socket.emit('AddUser', { \r\n                    name: this.nameField.current.value, \r\n                    ext: this.fileExt, \r\n                    orientation: this.orientation, \r\n                    isPortrait: this.isPortrait \r\n                }, () => {\r\n                    this.setState({ signedIn: true });\r\n                });\r\n            };\r\n            this.fileReader.readAsDataURL(this.state.file);\r\n        });\r\n\r\n        this.SubmitProfile = this.SubmitProfile.bind(this);\r\n        this.GetImgDetails = this.GetImgDetails.bind(this);\r\n    }\r\n\r\n\r\n    SubmitProfile (event) {\r\n        event.preventDefault();\r\n        const name = this.nameField.current.value;\r\n        \r\n        if(name === '') {\r\n            alert(\"Name required\");\r\n            return;\r\n        }\r\n\r\n        this.setState({ disabled: true });\r\n\r\n        console.log(`Submit clicked - Name: ${name}, Ext: ${this.fileExt}, src: ${this.fileSrc}, orientation: ${this.orientation}, isPortrait: ${this.isPortrait}, file:`, this.state.file);\r\n\r\n\r\n        if(this.state.file === null) {\r\n            socket.emit('AddUser', { \r\n                name, \r\n                ext: this.fileExt, \r\n                orientation: this.orientation, \r\n                isPortrait: this.isPortrait \r\n            }, () => {\r\n                this.setState({ signedIn: true });\r\n            });\r\n        }\r\n        else {\r\n            // Start image upload, adding user officially at the end.\r\n            this.slice = this.state.file.slice(0, Consts.SLICE_SIZE);\r\n            this.fileReader = new FileReader();\r\n            this.fileReader.onload = (event) => {\r\n                socket.emit('ImageUploadSlice', { ext: this.fileExt, name, type: this.state.file.type, size: this.state.file.size, data: event.target.result });\r\n            };\r\n            this.fileReader.readAsArrayBuffer(this.slice);\r\n        }\r\n    };\r\n\r\n    GetImgDetails (ext, file, src, orientation, isPortrait) {\r\n        console.log(`Ext: ${ext}, src: ${src}, orientation: ${orientation}, isPortrait: ${isPortrait}, file:`, file);\r\n        this.fileExt = ext;\r\n        this.fileSrc = src;\r\n        this.orientation = orientation;\r\n        this.isPortrait = isPortrait;\r\n        this.setState({ file });\r\n    };\r\n\r\n    //console.log(`Main body called in Join.js`);\r\n\r\n    render() {\r\n\r\n        // The elements on this page have been disabled, implies that the submit button was hit.\r\n        const willLoadFile = this.state.disabled && this.state.file !== null;\r\n\r\n        return (\r\n            this.state.signedIn ? (\r\n                <PageSelection socket={socket} />\r\n            ) : (\r\n                <div className=\"position-relative h-100\">\r\n                    <div className=\"container-fluid h-100 d-flex flex-column justify-content-center align-items-center\">\r\n                        <div>\r\n                            <div className=\"head1 text-center text-white\">Welcome</div>\r\n                            <hr className=\"bg-light mt-1 mb-2 mt-md-2 mb-md-3 mt-lg-3 mb-lg-4\" />\r\n                            <input type=\"text\" className=\"form-control form-control-lg\" placeholder=\"Name\" ref={this.nameField} onKeyPress={event => event.key === \"Enter\" ? event.target.blur() : null} disabled={this.state.disabled} />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <ImgUpload GetImgDetails={this.GetImgDetails} imgSrc={this.fileSrc} orientation={this.orientation} isPortrait={this.isPortrait} disabled={this.state.disabled} willLoadFile={willLoadFile} percent={this.state.percent} />\r\n                            <button className=\"btn btn-primary btn-lg btn-block mt-2\" onClick={this.SubmitProfile} disabled={this.state.disabled}>Sign In</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        );\r\n    }\r\n};\r\n\r\nexport default Join;","export const ENDPOINT = 'localhost:5000';\r\nexport const SLICE_SIZE = 100000;\r\nexport const pages = { USERS: 0, CHAT: 1 };\r\nexport const msgTypes = { TEXT: 0, CE_FIGHT: 1, CE_TRAP: 2 };\r\n\r\nexport const iceBreakers = { NONE: 0, FIGHT: 1, TRAP: 2 };\r\nexport const CE_MSG_DELAY = 750;\r\n\r\nexport const FIGHT_MAX_ROUNDS = 5;\r\nexport const fightRoundActions = { PUNCH: 0, TACKLE: 1, KICK: 2 };\r\nexport const fightWinner = { SENDER: 0, RESPONDER: 1, TIE: 2 };\r\nexport const fightSteps = { INIT: 0, ACCEPT: 1, CANCEL: 2, ACT: 3, END: 4 };\r\n\r\nexport const trapSteps = { INIT: 0, ACCEPT: 1, REJECT: 2, STRUGGLE: 3, END: 4 };\r\nexport const TRAP_STRUGGLE_TIME = 3000;\r\nexport const TRAP_STRUGGLE_COUNT = 15;\r\n\r\nexport const GetOrientation = (file, callback) => {\r\n    var reader = new FileReader();\r\n    reader.onload = function(e) {\r\n\r\n        var view = new DataView(e.target.result);\r\n        if (view.getUint16(0, false) !== 0xFFD8)\r\n        {\r\n            return callback(-2);\r\n        }\r\n        var length = view.byteLength, offset = 2;\r\n        while (offset < length) \r\n        {\r\n            if (view.getUint16(offset+2, false) <= 8) return callback(-1);\r\n            var marker = view.getUint16(offset, false);\r\n            offset += 2;\r\n            if (marker === 0xFFE1) \r\n            {\r\n                if (view.getUint32(offset += 2, false) !== 0x45786966) \r\n                {\r\n                    return callback(-1);\r\n                }\r\n\r\n                var little = view.getUint16(offset += 6, false) === 0x4949;\r\n                offset += view.getUint32(offset + 4, little);\r\n                var tags = view.getUint16(offset, little);\r\n                offset += 2;\r\n                for (var i = 0; i < tags; i++)\r\n                {\r\n                    if (view.getUint16(offset + (i * 12), little) === 0x0112)\r\n                    {\r\n                        return callback(view.getUint16(offset + (i * 12) + 8, little));\r\n                    }\r\n                }\r\n            }\r\n            else if ((marker & 0xFF00) !== 0xFF00)\r\n            {\r\n                break;\r\n            }\r\n            else\r\n            { \r\n                offset += view.getUint16(offset, false);\r\n            }\r\n        }\r\n        return callback(-1);\r\n    };\r\n    reader.readAsArrayBuffer(file);\r\n};\r\n\r\nexport const ResetOrientation = (srcBase64, srcOrientation, callback) => {\r\n    var img = new Image();\r\n    \r\n    img.onload = function() {\r\n        var width = img.width,\r\n            height = img.height,\r\n            canvas = document.createElement('canvas'),\r\n            ctx = canvas.getContext(\"2d\");\r\n    \r\n        // set proper canvas dimensions before transform & export\r\n        if (4 < srcOrientation && srcOrientation < 9) {\r\n            canvas.width = height;\r\n            canvas.height = width;\r\n        } else {\r\n            canvas.width = width;\r\n            canvas.height = height;\r\n        }\r\n    \r\n        // transform context before drawing image\r\n        switch (srcOrientation) {\r\n            case 2: ctx.transform(-1, 0, 0, 1, width, 0); break;\r\n            case 3: ctx.transform(-1, 0, 0, -1, width, height); break;\r\n            case 4: ctx.transform(1, 0, 0, -1, 0, height); break;\r\n            case 5: ctx.transform(0, 1, 1, 0, 0, 0); break;\r\n            case 6: ctx.transform(0, 1, -1, 0, height, 0); break;\r\n            case 7: ctx.transform(0, -1, -1, 0, height, width); break;\r\n            case 8: ctx.transform(0, -1, 1, 0, 0, width); break;\r\n            default: break;\r\n        }\r\n    \r\n        // draw image\r\n        ctx.drawImage(img, 0, 0);\r\n    \r\n        // export base64\r\n        callback(canvas.toDataURL());\r\n    };\r\n\r\n    img.src = srcBase64;\r\n};","import React from 'react';\r\nimport defaultImg from '../../images/SpeechlessGuy.png';\r\n\r\nconst UserIdent = ({ name, online, imgSrc, imgIsPortrait }) => (\r\n    <div className=\"d-flex flex-wrap align-items-center\">\r\n        <div className=\"avatarsUserIdent rounded-circle\">\r\n            <img src={imgSrc || defaultImg} alt=\"User Avatar\" className={imgIsPortrait ? \"portrait\" : \"\"} />\r\n        </div>\r\n        <div className=\"ml-3\">\r\n            <div>{name}</div>\r\n            <small>{online ? \"\" : \" [offline]\"}</small>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default UserIdent;","import React from 'react';\r\nimport UserIdent from '../UserIdent';\r\n\r\nconst User = ({user, LikeUserToggle, ToPageChat}) => {\r\n\r\n    let html_likeBtnVisual = user.likeThem ? <i className=\"fas fa-heart fa-lg\"></i> : <i className=\"far fa-heart fa-lg\"></i>;\r\n\r\n    const mutual = user.likeThem && user.likesMe;\r\n    const html_SpeechBtnVisual = mutual ? <i className=\"fas fa-comment fa-lg fa-fw\"></i> : <i className=\"fas fa-comment-slash fa-lg fa-fw\"></i>;\r\n\r\n    var html_UnreadMsgNotif = \"\";\r\n    if(user.unreadMsg) {\r\n        // Set different coloured notification if the last message is an event\r\n        let classes = \"notificationBadge\"\r\n        if(user.chatEvent !== null)\r\n            classes += \" isEvent\"\r\n\r\n        html_UnreadMsgNotif = <span className={classes}></span>\r\n    }\r\n\r\n    return (\r\n        <div className=\"d-flex flex-wrap justify-content-between align-items-center\">\r\n            <UserIdent name={user.name} online={true} imgSrc={user.imgSrc} imgIsPortrait={user.isPortrait} />\r\n            <div className=\"d-flex align-items-center\">\r\n                <button className=\"btn pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-3 pr-md-3\" onClick={() => { LikeUserToggle(user.id, !user.likeThem); }}>\r\n                    { html_likeBtnVisual }\r\n                </button>\r\n                <button className=\"btn pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-3 pr-md-3 position-relative\" onClick={() => { ToPageChat(user); }} disabled={!mutual} >\r\n                    { html_SpeechBtnVisual }\r\n                    { html_UnreadMsgNotif }\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default User;","import React from 'react';\r\nimport User from './User';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\n\r\nconst Users = ({ users, LikeUserToggle, ToPageChat }) => (\r\n    <div className=\"h-100 w-100 d-flex flex-column\">\r\n        <div className=\"head1 text-center text-white\">Users</div>\r\n        <ul className=\"list-group bg-secondary p-2 flex-grow-1 position-relative\">\r\n            <ScrollToBottom className=\"FullSpreadAbsElem\" scrollViewClassName=\"pad10\">\r\n                { \r\n                    users.map((user, i) => \r\n                        <li className=\"list-group-item m-0Auto maxW1000 innerScrollItem\" key={i} >\r\n                            <User user={user} LikeUserToggle={LikeUserToggle} ToPageChat={ToPageChat} />\r\n                        </li>\r\n                    )\r\n                }\r\n            </ScrollToBottom>\r\n        </ul>\r\n    </div>\r\n);\r\n\r\nexport default Users;","import React from 'react';\r\nimport UserIdent from '../UserIdent';\r\n\r\nconst UserInfoBar = ({ ToPageUsers, user_Chat, user_Chat_Active }) => (\r\n    <div>\r\n        <div className=\"maxW1000 m-0Auto\">\r\n            <div className=\"text-white d-flex align-items-center pt-3 pb-3\">\r\n                <button onClick={ToPageUsers} className=\"btn ml-2 text-white\">\r\n                    <i className=\"fas fa-arrow-left fa-lg\"></i>\r\n                </button>\r\n                <div className=\"ml-2 fontSize150\"><UserIdent name={user_Chat.name} online={user_Chat_Active} imgSrc={user_Chat.imgSrc} imgIsPortrait={user_Chat.isPortrait} /></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default UserInfoBar;","import React from 'react';\r\nimport ReactEmoji from 'react-emoji';\r\nimport * as Consts from '../../../../../Consts';\r\n\r\nimport imgPunch from '../../../../../images/Punch_02_32x32.png';\r\nimport imgTackle from '../../../../../images/Tackle_01_32x32.png';\r\nimport imgKick from '../../../../../images/Kick_02_32x32.png';\r\n\r\nconst IBFightOutcome = ({ message: { fromSelf, data}, chatPtnrName }) => {\r\n\r\n    const GetImage = (action) => {\r\n        if(action === Consts.fightRoundActions.PUNCH)\r\n            return imgPunch;\r\n        else if(action === Consts.fightRoundActions.TACKLE)\r\n            return imgTackle;\r\n        else if(action === Consts.fightRoundActions.KICK)\r\n            return imgKick;\r\n    }\r\n\r\n    // \"Self\" - the person who sent these messages, is the fight responder\r\n    const GetRoundResultMessage = (roundWinner) => {\r\n        if(roundWinner === Consts.fightWinner.SENDER)\r\n            return fromSelf ? \"Ouch!\" : \"Nice!\";\r\n        else if(roundWinner === Consts.fightWinner.RESPONDER)\r\n            return fromSelf ? \"Nice!\" : \"Ouch!\";\r\n        else if(roundWinner === Consts.fightWinner.TIE)\r\n            return \"Oof...\";\r\n    }\r\n\r\n    // \"Self\" - the person who sent these messages, is the fight responder\r\n    const GetFightResultMessage = (fightWinner) => {\r\n        if(fightWinner === Consts.fightWinner.SENDER)\r\n            return fromSelf ? `${chatPtnrName} won!` : `You beat ${chatPtnrName}!`;\r\n        else if(fightWinner === Consts.fightWinner.RESPONDER)\r\n            return fromSelf ? `You beat ${chatPtnrName}!` : `${chatPtnrName} won!`;\r\n        else if(fightWinner === Consts.fightWinner.TIE)\r\n            return \"We have a tie!\";\r\n    }\r\n\r\n    if(data.step === Consts.fightSteps.INIT) {\r\n\r\n        const msg = fromSelf ? `You challenged ${chatPtnrName} to a fight!` : `${chatPtnrName} challenged you to a fight!`;\r\n        return (\r\n            <div className=\"d-flex justify-content-center mt-2\">\r\n                <div className=\"messageBox bgLightBlue text-center fromAdmin\">\r\n                    <div className=\"messageText text-white\">{msg}</div>\r\n                    <div className=\"messageText text-white\">\"{ReactEmoji.emojify(data.msgProvoke)}\"</div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    else if(data.step === Consts.fightSteps.ACCEPT) {\r\n        return (\r\n            <div className=\"d-flex justify-content-center mt-2\">\r\n                <div className=\"messageBox bgLightBlue text-center fromAdmin\">\r\n                    <div className=\"messageText text-white\">Challenge accepted!</div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    else if(data.step === Consts.fightSteps.CANCEL) {\r\n\r\n        const msg = fromSelf ? `You wimped out.` : `${chatPtnrName} wimped out.`;\r\n        return (\r\n            <div className=\"d-flex justify-content-center mt-2\">\r\n                <div className=\"messageBox bgLightBlue text-center fromAdmin\">\r\n                    <div className=\"messageText text-white\">{ReactEmoji.emojify(msg)}</div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    // roundWinner\r\n    // actionSent\r\n    // actionResp\r\n    else if(data.step === Consts.fightSteps.ACT) {\r\n        return (\r\n            <div className=\"d-flex justify-content-center mt-2\">\r\n                <div className=\"messageBox fullW bgLightBlue fromAdmin\">\r\n                    <div className=\"d-flex justify-content-between align-items-center mt-1\">\r\n                        {/* In this case, \"self\", the person who sent the message, is the action Responder */}\r\n                        <div className=\"bg-warning mr-3\">\r\n                            <img src={GetImage(data[fromSelf ? \"actionSent\" : \"actionResp\"])} alt=\"action\" className=\"m-1\" />\r\n                        </div>\r\n                        <div className=\"mr-3 text-white\">\r\n                            {GetRoundResultMessage(data.roundWinner)}\r\n                        </div>\r\n                        <div className=\"bg-warning\">\r\n                            <img src={GetImage(data[fromSelf ? \"actionResp\" : \"actionSent\"])} alt=\"action\" className=\"m-1\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    // fightWinner\r\n    // msgEnd will be either: msgWin or msgLose or msgTie, as setup by sender\r\n    else if(data.step === Consts.fightSteps.END) {\r\n        return (\r\n            <div className=\"d-flex justify-content-center mt-2\">\r\n                <div className=\"messageBox bgLightBlue text-center fromAdmin\">\r\n                    <div className=\"messageText text-white\">{GetFightResultMessage(data.fightWinner)}</div>\r\n                    <div className=\"messageText text-white\">\"{ReactEmoji.emojify(data.msgEnd)}\"</div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    else return \"\";\r\n};\r\n\r\nexport default IBFightOutcome;","import React from 'react';\r\nimport ReactEmoji from 'react-emoji';\r\nimport CanvasDraw from 'react-canvas-draw';\r\nimport * as Consts from '../../../../../Consts';\r\n\r\nconst IBTrapOutcome = ({ message: { fromSelf, data}, chatPtnrName }) => {\r\n\r\n    // \"Self\" - the person who sent these messages, is the potentially trapped.\r\n    const GetTrapResultMessage = (trapSuccess) => {\r\n        if(trapSuccess)\r\n            return fromSelf ? `You got caught in ${chatPtnrName}'s trap!` : `You caught ${chatPtnrName} in your trap!`;\r\n        else\r\n            return fromSelf ? `You broke free from ${chatPtnrName}'s trap!` : `${chatPtnrName} broke out of your trap!`;\r\n    }\r\n\r\n    const GetGiftCanvas = (canGift) => {\r\n        let giftCanvas = \"\";\r\n        if(canGift) {\r\n            giftCanvas = (\r\n                <div className=\"d-flex justify-content-center mt-2\">\r\n                    <div className=\"position-relative drawCanvasCont\">\r\n                        <CanvasDraw\r\n                            disabled\r\n                            hideGrid\r\n                            canvasWidth=\"250px\" \r\n                            canvasHeight=\"250px\" \r\n                            saveData={data.giftCanvasSaveData}\r\n                            hideInterface=\"true\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return giftCanvas;\r\n    }\r\n\r\n    if(data.step === Consts.trapSteps.INIT) {\r\n\r\n        const msg = fromSelf ? `You sent ${chatPtnrName} ${ReactEmoji.emojify(data.giftText)}.` : `${chatPtnrName} sent you ${ReactEmoji.emojify(data.giftText)}.`;\r\n        return (\r\n            <div className=\"d-flex justify-content-center mt-2\">\r\n                <div className=\"messageBox bgLightBlue text-center fromAdmin\">\r\n                    <div className=\"messageText text-white\">{msg}</div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    else if(data.step === Consts.trapSteps.ACCEPT) {\r\n        return (\r\n            <div>\r\n                <div className=\"d-flex justify-content-center mt-2\">\r\n                    <div className=\"messageBox bgLightBlue text-center fromAdmin\">\r\n                        <div className=\"messageText text-white\">Gift accepted:</div>\r\n                    </div>\r\n                    \r\n                </div>\r\n                {GetGiftCanvas(!data.launchTrap)}\r\n            </div>\r\n        );\r\n    }\r\n    else if(data.step === Consts.trapSteps.REJECT) {\r\n\r\n        const msg = fromSelf ? `You turned it down.` : `It was turned away.`;\r\n        return (\r\n            <div className=\"d-flex justify-content-center mt-2\">\r\n                <div className=\"messageBox bgLightBlue text-center fromAdmin\">\r\n                    <div className=\"messageText text-white\">{msg}</div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    /*\r\n    trapSuccess: btnPresses >= Consts.TRAP_STRUGGLE_COUNT,\r\n    msgEnd\r\n    */\r\n    else if(data.step === Consts.trapSteps.END) {\r\n        return (\r\n            <div>\r\n                <div className=\"d-flex justify-content-center mt-2\">\r\n                    <div className=\"messageBox bgLightBlue text-center fromAdmin\">\r\n                        <div className=\"messageText text-white\">{GetTrapResultMessage(data.trapSuccess)}</div>\r\n                        <div className=\"messageText text-white\">\"{ReactEmoji.emojify(data.msgEnd)}\"</div>\r\n                    </div>\r\n                </div>\r\n                {GetGiftCanvas(!data.trapSuccess)}\r\n            </div>\r\n        );\r\n    }\r\n    else return \"\";\r\n};\r\n\r\nexport default IBTrapOutcome;","import React from 'react';\r\nimport ReactEmoji from 'react-emoji';\r\nimport * as Consts from '../../../Consts';\r\nimport IBFightOutcome from './IceBreakers/Fight/Outcome';\r\nimport IBTrapOutcome from './IceBreakers/Trap/Outcome';\r\n\r\nconst Message = ({ message, chatPtnrName }) => {\r\n\r\n    if(message.type === Consts.msgTypes.TEXT) {\r\n        //console.log(`Message created. From self: ${fromSelf}, msg text: \"${data}\"`);\r\n        return (\r\n            message.fromSelf ? (\r\n                <div className=\"d-flex justify-content-end mt-2\">\r\n                    <div className=\"messageBox bgLightGreen fromSelf\">\r\n                        <div className=\"messageText\">{ReactEmoji.emojify(message.data)}</div>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <div className=\"d-flex justify-content-start mt-2\">\r\n                    <div className=\"messageBox bg-white fromOther\">\r\n                        <div className=\"messageText\">{ReactEmoji.emojify(message.data)}</div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        )\r\n    }\r\n\r\n    // TODO: See \"Chat.js\" TODO for everything there is to consider here...\r\n    else if(message.type === Consts.msgTypes.CE_FIGHT) {\r\n        //console.log(`Message created. From self: ${fromSelf}, provocation text: \"${data.msgProvoke}\"`);\r\n        return( <IBFightOutcome message={message} chatPtnrName={chatPtnrName} /> );\r\n    }\r\n    else if(message.type === Consts.msgTypes.CE_TRAP) {\r\n        //console.log(`Message created. From self: ${fromSelf}, provocation text: \"${data.msgProvoke}\"`);\r\n        return( <IBTrapOutcome message={message} chatPtnrName={chatPtnrName} /> );\r\n    }\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\n\r\nconst PageTitleBar = ({ BackFunc, title, subtitle }) => (\r\n    <div>\r\n        <div className=\"maxW1000 m-0Auto position-relative\">\r\n            <button onClick={BackFunc} className=\"btn text-white posAbsAlignVert50pct\">\r\n                <i className=\"fas fa-arrow-left fa-lg\"></i>\r\n            </button>\r\n            <div className=\"head3 text-center text-white\">\r\n                <div>{title}</div>\r\n                <small>{subtitle}</small>\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default PageTitleBar;","import React from 'react';\r\nimport PageTitleBar from '../../PageTitleBar';\r\nimport * as Consts from '../../../../../Consts';\r\n\r\nimport imgPunch from '../../../../../images/Punch_02_32x32.png';\r\nimport imgTackle from '../../../../../images/Tackle_01_32x32.png';\r\nimport imgKick from '../../../../../images/Kick_02_32x32.png';\r\n\r\nconst IBFightSetup = ({ ReturnToSelection, user_Chat_Active, LaunchChatEvent }) => {\r\n\r\n    var elem_Form = React.createRef();\r\n    var elem_ProvokeMsg = React.createRef();\r\n    var elem_WinMsg = React.createRef();\r\n    var elem_LoseMsg = React.createRef();\r\n    var elem_TieMsg = React.createRef();\r\n\r\n    var rounds = [];\r\n    for(let i = 0; i < Consts.FIGHT_MAX_ROUNDS; i++) {\r\n\r\n        const radioName = \"fightSelection_\" + i;\r\n        rounds.push(\r\n            <div key={i}>\r\n                <div className=\"d-flex justify-content-around\">\r\n                    <label className=\"noStyleLabel\" htmlFor={radioName + \"_\" + Consts.fightRoundActions.PUNCH}>\r\n                        <input type=\"radio\" id={radioName + \"_\" + Consts.fightRoundActions.PUNCH} name={radioName} value={Consts.fightRoundActions.PUNCH} defaultChecked={true} />\r\n                        <img src={imgPunch} alt=\"punch\" className=\"m-1\" />\r\n                    </label>\r\n                    <label className=\"noStyleLabel ml-1 mr-1\" htmlFor={radioName + \"_\" + Consts.fightRoundActions.TACKLE}>\r\n                        <input type=\"radio\" id={radioName + \"_\" + Consts.fightRoundActions.TACKLE} name={radioName} value={Consts.fightRoundActions.TACKLE} />\r\n                        <img src={imgTackle} alt=\"tackle\" className=\"m-1\" />\r\n                    </label>\r\n                    <label className=\"noStyleLabel\" htmlFor={radioName + \"_\" + Consts.fightRoundActions.KICK}>\r\n                        <input type=\"radio\" id={radioName + \"_\" + Consts.fightRoundActions.KICK} name={radioName} value={Consts.fightRoundActions.KICK} />\r\n                        <img src={imgKick} alt=\"kick\" className=\"m-1\" />\r\n                    </label>\r\n                </div>\r\n                {i < Consts.FIGHT_MAX_ROUNDS - 1 ? <hr className=\"bg-light mt-2 mb-2\" /> : \"\"}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const OnSend = (event) => {\r\n        event.preventDefault();\r\n\r\n        var actionsSent = [];\r\n        for(let i = 0; i < Consts.FIGHT_MAX_ROUNDS; i++) {\r\n            const btns = elem_Form.elements[\"fightSelection_\" + i];\r\n            for(let j = 0; j < btns.length; j++) {\r\n                if(btns[j].checked) {\r\n                    actionsSent.push(parseInt(btns[j].value));\r\n                }\r\n            }\r\n        }\r\n\r\n        // Cache values so setTimeout can use them despite being gone from original source.\r\n        const msgProvoke = elem_ProvokeMsg.current.value;\r\n        const msgWin = elem_WinMsg.current.value;\r\n        const msgLose = elem_LoseMsg.current.value;\r\n        const msgTie = elem_TieMsg.current.value;\r\n\r\n        // TODO: Validate inputs? LOW PRIORITY\r\n        LaunchChatEvent({ \r\n            type: Consts.msgTypes.CE_FIGHT,\r\n            data: {\r\n                step: Consts.fightSteps.INIT,\r\n                msgProvoke: msgProvoke\r\n            }              \r\n        }, false);\r\n\r\n        setTimeout(() => {\r\n            LaunchChatEvent({ \r\n                type: Consts.msgTypes.CE_FIGHT,\r\n                data: {\r\n                    step: Consts.fightSteps.INIT,\r\n                    msgProvoke: msgProvoke,\r\n                    msgWin: msgWin,\r\n                    msgLose: msgLose,\r\n                    msgTie: msgTie,\r\n                    actionsSent,\r\n                    actionsResp: []\r\n                }             \r\n            }, true);\r\n        }, Consts.CE_MSG_DELAY);\r\n    };\r\n\r\n    return (\r\n        <div className=\"h-100 w-100 d-flex flex-column\">\r\n            <PageTitleBar BackFunc={ReturnToSelection} title=\"Fight\" subtitle={user_Chat_Active ? \"\" : \" [user offline]\"} />\r\n            <div className=\"bg-secondary p-2 flex-grow-1 position-relative\" role=\"group\">\r\n                <fieldset disabled={!user_Chat_Active}>\r\n                    <form ref={form => elem_Form = form} className=\"maxW1000 m-0Auto reimplementScroll\">\r\n                        <div className=\"form-group\">\r\n                            <div className=\"head4 text-light\">Provocation</div>\r\n                            <input type=\"text\" className=\"form-control\" ref={elem_ProvokeMsg} placeholder=\"e.g. Put 'em up!\"></input>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"head4 text-light mb-2\">Actions</div>\r\n                            {rounds}\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"head4 text-light\">Win message</div>\r\n                            <input type=\"text\" className=\"form-control\" ref={elem_WinMsg} placeholder=\"e.g. Don't mess with the champ!\"></input>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"head4 text-light\">Lose message</div>\r\n                            <input type=\"text\" className=\"form-control\" ref={elem_LoseMsg} placeholder=\"e.g. Pfft, barely a flesh wound...\"></input>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"head4 text-light\">Tie message</div>\r\n                            <input type=\"text\" className=\"form-control\" ref={elem_TieMsg} placeholder=\"e.g. Did we just become best friends?\"></input>\r\n                        </div>\r\n                        <button type=\"button\" className=\"btn bgLightBlue text-white m-0Auto innerScrollItem\" onClick={OnSend}>Send</button>\r\n                    </form>\r\n                </fieldset>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default IBFightSetup;","import React, { useState, useRef, createRef } from 'react';\r\nimport CanvasDraw from 'react-canvas-draw';\r\nimport { CompactPicker } from 'react-color';\r\n\r\nimport PageTitleBar from '../../PageTitleBar';\r\nimport * as Consts from '../../../../../Consts';\r\n\r\nconst IBTrapSetup = ({ ReturnToSelection, user_Chat_Active, LaunchChatEvent }) => {\r\n\r\n    const [sliderPct, SetSliderPct] = useState(50);\r\n    const [colour, SetColour] = useState('ff0000');\r\n    const [brushRadius, SetBrushRadius] = useState(3);\r\n\r\n    var canvasRef = useRef();\r\n\r\n    // TODO: Look-up & add small draw component, very simple, and make sure it's mobile friendly of course!\r\n    // TODO: Perhaps make this a combo gift/trap event, and add a slider here in setup to adjust the percentage chance of the trap being sprung.\r\n    // That way they can just drop the image if desired, otherwise gamify it. - This would keep the reciepients guessing as well.\r\n\r\n    var elem_GiftText = createRef();\r\n    var elem_SuccessMsg = createRef();\r\n    var elem_FailMsg = createRef();\r\n\r\n    const OnSend = (event) => {\r\n        event.preventDefault();\r\n\r\n        // Cache values so setTimeout can use them despite being gone from original source.\r\n        const giftText = elem_GiftText.current.value;\r\n        const giftCanvasSaveData = canvasRef.current.getSaveData();\r\n        const msgSuccess = elem_SuccessMsg.current.value;\r\n        const msgFail = elem_FailMsg.current.value;\r\n\r\n        // TODO: Validate inputs? LOW PRIORITY\r\n        LaunchChatEvent({ \r\n            type: Consts.msgTypes.CE_TRAP,\r\n            data: {\r\n                step: Consts.trapSteps.INIT,\r\n                giftText\r\n            }              \r\n        }, false);\r\n\r\n        setTimeout(() => {\r\n            LaunchChatEvent({ \r\n                type: Consts.msgTypes.CE_TRAP,\r\n                data: {\r\n                    step: Consts.trapSteps.INIT,\r\n                    sliderPct,\r\n                    giftText,\r\n                    giftCanvasSaveData,\r\n                    msgSuccess,\r\n                    msgFail\r\n                }             \r\n            }, true);\r\n        }, Consts.CE_MSG_DELAY);\r\n    };\r\n\r\n    const OnColourChangeComplete = (newColour) => {\r\n        SetColour(newColour.hex)\r\n    }\r\n    const CanvasUndo = () => {\r\n        canvasRef.current.undo();\r\n    }\r\n    const CanvasClear = () => {\r\n        canvasRef.current.clear()\r\n    }\r\n\r\n    return (\r\n        <div className=\"h-100 w-100 d-flex flex-column\">\r\n            <PageTitleBar BackFunc={ReturnToSelection} title=\"Gift\" subtitle={user_Chat_Active ? \"\" : \" [user offline]\"} />\r\n            <div className=\"bg-secondary p-2 flex-grow-1 position-relative\" role=\"group\">\r\n                <fieldset disabled={!user_Chat_Active}>\r\n                    <form className=\"maxW1000 m-0Auto reimplementScroll\">\r\n                        <div className=\"form-group\">\r\n                            <div className=\"head4 text-light\">Gift</div>\r\n                            <input type=\"text\" className=\"form-control\" ref={elem_GiftText} placeholder=\"e.g. 5 cents\"></input>\r\n                            <div id=\"DrawComponentContainer\" className=\"mt-3\">\r\n                                {/* Canvas */}\r\n                                <div className=\"m-2\">\r\n                                    <CanvasDraw \r\n                                        ref={canvasRef}\r\n                                        canvasWidth=\"250px\" \r\n                                        canvasHeight=\"250px\" \r\n                                        lazyRadius=\"5\"\r\n                                        brushColor={colour}\r\n                                        brushRadius={(isNaN(brushRadius) || brushRadius < 1) ? 1 : brushRadius}\r\n                                    />\r\n                                </div>\r\n                                <div id=\"CanvasControlsContainer\" className=\"mt-2\">\r\n                                    {/* Colour Picker */}\r\n                                    <CompactPicker\r\n                                        color={colour}\r\n                                        onChangeComplete={OnColourChangeComplete}\r\n                                    />\r\n                                    {/* Controls */}\r\n                                    <div className=\"mt-3 d-flex justify-content-around align-items-end\">\r\n                                        <button type=\"button\" className=\"btn bgLightBlue text-white\" onClick={CanvasUndo}>Undo</button>\r\n                                        <button type=\"button\" className=\"btn bgLightBlue text-white ml-1\" onClick={CanvasClear}>Clear</button>\r\n                                        <div className=\"ml-1\">\r\n                                            <small className=\"text-white\">Brush-Radius:</small>\r\n                                            <input type=\"number\"\r\n                                                className=\"form-control\"\r\n                                                value={brushRadius}\r\n                                                onChange={e => SetBrushRadius(parseInt(e.target.value, 10) || '')}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group mt-3\">\r\n                            <div className=\"head4 text-light\">Trap activation chance</div>\r\n                            <div className=\"d-flex align-items-center\">\r\n                                <input type=\"range\" min=\"0\" max=\"100\" value={sliderPct} className=\"flex-grow-1\" onChange={event => SetSliderPct(event.target.value)} />\r\n                                <div className=\"ml-2 text-center text-light font-weight-bold w50p\">{sliderPct}%</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"head4 text-light\">Success message</div>\r\n                            <input type=\"text\" className=\"form-control\" ref={elem_SuccessMsg} placeholder=\"e.g. Was it really worth the risk?!\"></input>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"head4 text-light\">Fail message</div>\r\n                            <input type=\"text\" className=\"form-control\" ref={elem_FailMsg} placeholder=\"e.g. Don't spend it all in one place!\"></input>\r\n                        </div>\r\n                        <button type=\"button\" className=\"btn bgLightBlue text-white m-0Auto innerScrollItem\" onClick={OnSend}>Send</button>\r\n                    </form>\r\n                </fieldset>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default IBTrapSetup;","import React, { Component } from 'react';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\nimport * as Consts from '../../../Consts';\r\nimport PageTitleBar from './PageTitleBar';\r\nimport IBFightSetup from './IceBreakers/Fight/Setup';\r\nimport IBTrapSetup from './IceBreakers/Trap/Setup';\r\n\r\nclass IceBreakerSelection extends Component {\r\n\r\n    state = {\r\n        iceBreaker: Consts.iceBreakers.NONE\r\n    }\r\n\r\n    // props: ReturnToChat, user_Chat_Active, LaunchChatEvent\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.ReturnToSelection = this.ReturnToSelection.bind(this);\r\n    }\r\n\r\n    ReturnToSelection() {\r\n        this.setState({ iceBreaker: Consts.iceBreakers.NONE });\r\n    }\r\n\r\n    render() {\r\n        if(this.state.iceBreaker === Consts.iceBreakers.NONE) {\r\n\r\n            return (\r\n                <div className=\"h-100 w-100 d-flex flex-column\">\r\n                    <PageTitleBar BackFunc={this.props.ReturnToChat} title=\"Ice Breakers\" subtitle={this.props.user_Chat_Active ? \"\" : \" [user offline]\"} />\r\n                    <div className=\"bg-secondary p-2 flex-grow-1 position-relative\" role=\"group\">\r\n                        <ScrollToBottom className=\"FullSpreadAbsElem\" scrollViewClassName=\"d-flex flex-column pad10\">\r\n                            {/* FIGHT */}\r\n                            <button \r\n                                type=\"button\"\r\n                                className=\"btn btn-lg bgLightBlue text-white m-0Auto minW50pct maxW1000 innerScrollItem\"\r\n                                onClick={() => this.setState({ iceBreaker: Consts.iceBreakers.FIGHT })}\r\n                                disabled={!this.props.user_Chat_Active}\r\n                            >\r\n                                <i className=\"fas fa-fist-raised fa-lg transFlipYRot90\"></i>\r\n                                <span className=\"ml-4\">FIGHT</span>\r\n                            </button>\r\n                            {/* TRAP */}\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"btn btn-lg bgLightBlue text-white m-0Auto mt-2 minW50pct maxW1000 innerScrollItem\"\r\n                                onClick={() => this.setState({ iceBreaker: Consts.iceBreakers.TRAP })}\r\n                                disabled={!this.props.user_Chat_Active}\r\n                            >\r\n                                {/*<i className=\"fas fa-dungeon fa-lg\"></i>*/}\r\n                                <i className=\"fas fa-gift fa-lg\"></i>\r\n                                <span className=\"ml-4\">GIFT</span>\r\n                            </button>\r\n                        </ScrollToBottom>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        else if(this.state.iceBreaker === Consts.iceBreakers.FIGHT) {\r\n            return (<IBFightSetup \r\n                ReturnToSelection={this.ReturnToSelection} \r\n                user_Chat_Active={this.props.user_Chat_Active} \r\n                LaunchChatEvent={this.props.LaunchChatEvent}  \r\n            />);\r\n        }\r\n        else if(this.state.iceBreaker === Consts.iceBreakers.TRAP) {\r\n            return (<IBTrapSetup \r\n                ReturnToSelection={this.ReturnToSelection} \r\n                user_Chat_Active={this.props.user_Chat_Active} \r\n                LaunchChatEvent={this.props.LaunchChatEvent}  \r\n            /> );\r\n        }\r\n    }\r\n};\r\n\r\nexport default IceBreakerSelection;","import React from 'react';\r\nimport * as Consts from '../../../../../Consts';\r\n\r\nimport imgPunch from '../../../../../images/Punch_02_32x32.png';\r\nimport imgTackle from '../../../../../images/Tackle_01_32x32.png';\r\nimport imgKick from '../../../../../images/Kick_02_32x32.png';\r\n\r\nconst IBFightEngage = ({ eventData: { fromSelf, data }, SendMessage, UpdateEventData, ClearEvent, chatPtnrName}) => {\r\n    // data: { step, msgProvoke, msgWin, msgLose, msgTie, actionsSent, actionsResp:[] }\r\n\r\n    const OnBtnFight = (event) => {\r\n        event.preventDefault();\r\n\r\n        SendMessage({ \r\n            type: Consts.msgTypes.CE_FIGHT,\r\n            data: { step: Consts.fightSteps.ACCEPT }              \r\n        }, false);\r\n\r\n        setTimeout(() => {\r\n            UpdateEventData({ step: Consts.fightSteps.ACT });\r\n        }, Consts.CE_MSG_DELAY);\r\n    }\r\n\r\n    const OnBtnFlee = (event) => {\r\n        event.preventDefault();\r\n\r\n        SendMessage({ \r\n            type: Consts.msgTypes.CE_FIGHT,\r\n            data: { step: Consts.fightSteps.CANCEL }              \r\n        }, false);\r\n        ClearEvent();\r\n    }\r\n\r\n    const AssessRoundWinner = (actionOfSender, actionOfReponder) => {\r\n        if(actionOfSender === Consts.fightRoundActions.PUNCH) {\r\n            if(actionOfReponder === Consts.fightRoundActions.PUNCH)\r\n                return Consts.fightWinner.TIE\r\n            else if(actionOfReponder === Consts.fightRoundActions.TACKLE)\r\n                return Consts.fightWinner.SENDER\r\n            else if(actionOfReponder === Consts.fightRoundActions.KICK)\r\n                return Consts.fightWinner.RESPONDER\r\n        }\r\n        else if(actionOfSender === Consts.fightRoundActions.TACKLE) {\r\n            if(actionOfReponder === Consts.fightRoundActions.PUNCH)\r\n                return Consts.fightWinner.RESPONDER\r\n            else if(actionOfReponder === Consts.fightRoundActions.TACKLE)\r\n                return Consts.fightWinner.TIE\r\n            else if(actionOfReponder === Consts.fightRoundActions.KICK)\r\n                return Consts.fightWinner.SENDER\r\n        }\r\n        else if(actionOfSender === Consts.fightRoundActions.KICK) {\r\n            if(actionOfReponder === Consts.fightRoundActions.PUNCH)\r\n                return Consts.fightWinner.SENDER\r\n            else if(actionOfReponder === Consts.fightRoundActions.TACKLE)\r\n                return Consts.fightWinner.RESPONDER\r\n            else if(actionOfReponder === Consts.fightRoundActions.KICK)\r\n                return Consts.fightWinner.TIE\r\n        }\r\n    }\r\n\r\n    const OnAct = (event, fightAction) => {\r\n        event.preventDefault();\r\n\r\n        data.actionsResp.push(fightAction);\r\n\r\n        const actionSent = data.actionsSent[data.actionsResp.length - 1];\r\n\r\n        // This regular step will parse the given win/loss/tie and declare a winner, displaying the correct message for each battler.\r\n        SendMessage({ \r\n            type: Consts.msgTypes.CE_FIGHT,\r\n            data: {\r\n                step: Consts.fightSteps.ACT,\r\n                roundWinner: AssessRoundWinner(actionSent, fightAction),\r\n                actionSent: actionSent,\r\n                actionResp: fightAction\r\n            }              \r\n        }, false);\r\n\r\n        // Last action taken, fight over\r\n        if(data.actionsResp.length >= data.actionsSent.length) {\r\n            // The END step will parse the # of wins/losses/ties and declare a winner, displaying the correct message for each battler.\r\n            setTimeout(() => {\r\n\r\n                // Read all results and declare and make some declaration of winner.\r\n                var senderWins = 0;\r\n                var responderWins = 0;\r\n\r\n                for(let i = 0; i < data.actionsSent.length; i++) {\r\n                    const roundWinner = AssessRoundWinner(data.actionsSent[i], data.actionsResp[i]);\r\n                    if(roundWinner === Consts.fightWinner.SENDER)\r\n                        senderWins++;\r\n                    else if(roundWinner === Consts.fightWinner.RESPONDER)\r\n                        responderWins++;\r\n                }\r\n\r\n                // Messages were setup by Sender\r\n                var fightWinner = Consts.fightWinner.TIE;\r\n                var msgEnd = data.msgTie;\r\n                if(senderWins > responderWins) {\r\n                    fightWinner = Consts.fightWinner.SENDER;\r\n                    msgEnd = data.msgWin;\r\n                }\r\n                else if(senderWins < responderWins) {\r\n                    fightWinner = Consts.fightWinner.RESPONDER;\r\n                    msgEnd = data.msgLose;\r\n                }\r\n\r\n                ClearEvent();\r\n                SendMessage({ \r\n                    type: Consts.msgTypes.CE_FIGHT,\r\n                    data: { \r\n                        step: Consts.fightSteps.END,\r\n                        fightWinner,\r\n                        msgEnd\r\n                    }\r\n                }, false);\r\n            }, Consts.CE_MSG_DELAY);\r\n        }\r\n        // Fight continuing\r\n        else {\r\n            // This is simply acting as recussion, bringing us here again.\r\n            setTimeout(() => {\r\n                UpdateEventData({ step: Consts.fightSteps.ACT });\r\n            }, Consts.CE_MSG_DELAY);\r\n        }            \r\n    }\r\n\r\n    if(data.step === Consts.fightSteps.INIT) {\r\n        return (\r\n           fromSelf ? (\r\n                <div className=\"d-flex justify-content-center mt-2\">\r\n                    <div className=\"messageBox bgLightBlue fromAdmin\">\r\n                        <div className=\"messageText text-center text-white\">Awaiting response...</div>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <div className=\"d-flex justify-content-center mt-2\">\r\n                    <div className=\"messageBox bgLightBlue fromAdmin\">\r\n                        <div className=\"messageText text-center text-white\">Your response?</div>\r\n                        <div className=\"d-flex justify-content-around mt-1 p-2\">\r\n                            <button className=\"btn bg-warning mr-3\" onClick={OnBtnFight}>Fight</button>\r\n                            <button className=\"btn bg-danger text-white\" onClick={OnBtnFlee}>Flee</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        );\r\n    }\r\n    else if(data.step === Consts.fightSteps.ACT) {\r\n        return (\r\n           fromSelf ? (\r\n                <div className=\"d-flex justify-content-center mt-2\">\r\n                    <div className=\"messageBox bgLightBlue fromAdmin\">\r\n                        <div className=\"messageText text-center text-white\">Select a move:</div>\r\n                        <div className=\"d-flex justify-content-around mt-1 p-2\">\r\n                            <button className=\"btn bg-warning mr-3\" onClick={event => OnAct(event, Consts.fightRoundActions.PUNCH)}>\r\n                                <img src={imgPunch} alt=\"punch\" className=\"m-1\" />\r\n                            </button>\r\n                            <button className=\"btn bg-warning mr-3\" onClick={event => OnAct(event, Consts.fightRoundActions.TACKLE)}>\r\n                                <img src={imgTackle} alt=\"tackle\" className=\"m-1\" />\r\n                            </button>\r\n                            <button className=\"btn bg-warning\" onClick={event => OnAct(event, Consts.fightRoundActions.KICK)}>\r\n                                <img src={imgKick} alt=\"kick\" className=\"m-1\" />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <div className=\"d-flex justify-content-center mt-2\">\r\n                    <div className=\"messageBox bgLightBlue fromAdmin\">\r\n                        <div className=\"messageText text-center text-white\">{chatPtnrName} is selecting a move...</div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        );\r\n    }\r\n    else return \"\";\r\n};\r\n\r\n\r\nexport default IBFightEngage;","import React from 'react';\r\nimport * as Consts from '../../../../../Consts';\r\n\r\nconst IBTrapEngage = ({ eventData: { fromSelf, data }, SendMessage, UpdateEventData, ClearEvent, chatPtnrName}) => {\r\n\r\n    const OnBtnAccept = (event) => {\r\n        event.preventDefault();\r\n\r\n        const randNum = Math.floor(Math.random() * 100) + 1;\r\n        const launchTrap = data.sliderPct >= randNum;\r\n\r\n        SendMessage({ \r\n            type: Consts.msgTypes.CE_TRAP,\r\n            data: { \r\n                step: Consts.trapSteps.ACCEPT,\r\n                launchTrap,\r\n                giftCanvasSaveData: data.giftCanvasSaveData\r\n            }             \r\n        }, false);\r\n\r\n        if(launchTrap) {\r\n            setTimeout(() => {\r\n                UpdateEventData({ step: Consts.trapSteps.STRUGGLE });\r\n            }, Consts.CE_MSG_DELAY);\r\n        }\r\n        else {\r\n            ClearEvent();\r\n        }\r\n    }\r\n\r\n    const OnBtnReject = (event) => {\r\n        event.preventDefault();\r\n\r\n        ClearEvent();\r\n\r\n        SendMessage({ \r\n            type: Consts.msgTypes.CE_TRAP,\r\n            data: { step: Consts.trapSteps.REJECT }              \r\n        }, false);\r\n    }\r\n\r\n    if(data.step === Consts.trapSteps.INIT) {\r\n        return (\r\n           fromSelf ? (\r\n                <div className=\"d-flex justify-content-center mt-2\">\r\n                    <div className=\"messageBox bgLightBlue fromAdmin\">\r\n                        <div className=\"messageText text-center text-white\">Awaiting response...</div>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <div className=\"d-flex justify-content-center mt-2\">\r\n                    <div className=\"messageBox bgLightBlue fromAdmin\">\r\n                        <div className=\"messageText text-center text-white\">Do you accept?</div>\r\n                        <div className=\"d-flex justify-content-around mt-1 p-2\">\r\n                            <button className=\"btn bg-warning mr-3\" onClick={OnBtnAccept}>Accept</button>\r\n                            <button className=\"btn bg-danger text-white\" onClick={OnBtnReject}>Reject</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        );\r\n    }\r\n    else if(data.step === Consts.trapSteps.STRUGGLE) {\r\n        if(fromSelf) {\r\n            var btnPresses = 0\r\n            const OnBtnStruggle = (event) => {\r\n                event.preventDefault();\r\n                btnPresses++;\r\n            }\r\n\r\n            // TODO: Set interval or css animation..., make button flash to indicate the need to push repeatedly.\r\n\r\n            setTimeout(() => {\r\n                var msgEnd = data.msgFail;\r\n                // The trappee couldn't struggle enough, so the trap succeeded.\r\n                if(btnPresses < Consts.TRAP_STRUGGLE_COUNT) {\r\n                    msgEnd = data.msgSuccess;\r\n                }\r\n\r\n                ClearEvent();\r\n                SendMessage({ \r\n                    type: Consts.msgTypes.CE_TRAP,\r\n                    data: { \r\n                        step: Consts.trapSteps.END,\r\n                        trapSuccess: btnPresses < Consts.TRAP_STRUGGLE_COUNT,\r\n                        giftCanvasSaveData: data.giftCanvasSaveData,\r\n                        msgEnd\r\n                    }\r\n                }, false);\r\n            }, Consts.TRAP_STRUGGLE_TIME);\r\n\r\n            return (\r\n                <div className=\"d-flex justify-content-center mt-2\">\r\n                    <div className=\"messageBox bgLightBlue fromAdmin\">\r\n                        <div className=\"messageText text-center text-white\">But it's a trap!</div>\r\n                        <div className=\"d-flex justify-content-around mt-1 p-2\">\r\n                            <button className=\"btn btn-lg colourFlash font-weight-bold\" onClick={OnBtnStruggle}>!!STRUGGLE!!</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            return (\r\n                <div className=\"d-flex justify-content-center mt-2\">\r\n                    <div className=\"messageBox bgLightBlue fromAdmin\">\r\n                        <div className=\"messageText text-center text-white\">Trap activated, struggle ensuing...</div>\r\n                    </div>\r\n                </div>\r\n             );\r\n        }\r\n    }\r\n};\r\n\r\nexport default IBTrapEngage;","import React, { Component } from 'react';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\n\r\nimport * as Consts from '../../../Consts';\r\n\r\nimport UserInfoBar from './UserInfoBar';\r\nimport Message from './Message';\r\n\r\nimport IceBreakerSelection from './IceBreakerSelection';\r\nimport IBFightEngage from './IceBreakers/Fight/Engage';\r\nimport IBTrapEngage from './IceBreakers/Trap/Engage';\r\n\r\nclass Chat extends Component {\r\n\r\n    state = {  \r\n        msgText: \"\",\r\n        preppingChatEvent: false\r\n    };\r\n\r\n    //props: {user_Chat, user_Chat_Active, SendMessage, ToPageUsers}\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.SendText = this.SendText.bind(this);\r\n        this.LaunchChatEvent = this.LaunchChatEvent.bind(this);\r\n        this.ChooseIceBreaker = this.ChooseIceBreaker.bind(this);\r\n        this.ReturnToChat = this.ReturnToChat.bind(this);\r\n    }\r\n\r\n    // Specific to this class, wherin it resets the msgText\r\n    SendText (event) {\r\n        event.preventDefault();\r\n        if(!this.state.msgText) {\r\n            console.warn(\"Message not sent, must send more than nothing.\");\r\n            return;\r\n        }\r\n        if(!this.props.user_Chat_Active) {\r\n            console.warn(\"Message not sent, that user has been removed from the server.\");\r\n            return;\r\n        }\r\n\r\n        console.log(`SendMessage called in Chat.js, msgText: \"${this.state.msgText}\" to user: \"${this.props.user_Chat.id}\"`);\r\n\r\n        this.setState({ msgText: '' });\r\n        this.props.SendMessage({ \r\n            type: Consts.msgTypes.TEXT, \r\n            data: this.state.msgText\r\n        }, false);\r\n    };\r\n\r\n    // Specific to chat events, wherin the age returns here once they are sent, and chat with this user is disabled until the event is complete.\r\n    // TODO: Long-term: Can cancel event if it has not yet begun by recipient.\r\n    LaunchChatEvent(dataObj, asEvent) {\r\n        if(!this.props.user_Chat_Active) {\r\n            console.warn(\"Message not sent, that user has been removed from the server.\");\r\n            return;\r\n        }\r\n        \r\n        this.setState({ preppingChatEvent: false });\r\n        this.props.SendMessage(dataObj, asEvent);\r\n    }\r\n\r\n    ChooseIceBreaker (event) {\r\n        event.preventDefault();\r\n        this.setState({ preppingChatEvent: true });\r\n    }\r\n    ReturnToChat () {\r\n        this.setState({ preppingChatEvent: false });\r\n    }\r\n\r\n    render() {\r\n        if(this.state.preppingChatEvent) {\r\n            return (<IceBreakerSelection \r\n                ReturnToChat={this.ReturnToChat} \r\n                user_Chat_Active={this.props.user_Chat_Active} \r\n                LaunchChatEvent={this.LaunchChatEvent} \r\n            />);\r\n        }\r\n        else {\r\n\r\n            // Disable chat with this user if they left (\"account\" gone), or I've sent an event to them, until they complete it.\r\n            const disabled = !this.props.user_Chat_Active || this.props.user_Chat.disableSend;\r\n\r\n            // TODO: Event will play out once an ice breaker is selected.\r\n            //* Each Step (managed internally) will produce a resulting message, ideally the same message for both sender and Receiver\r\n            //* For example, and event step is a button/option, which when selected, is replaced with a message indicating what that selection was.\r\n            //* -1 event step, +1 message\r\n\r\n            // Rendering considerations:\r\n            // Sender event step - Should maybe just be a small message of what the receiver can do (e.g. \"Selecting move\") - Can easily be created as each new event message comes in.\r\n            // Sender message - Mostly the same for both parties\r\n            // Receiver event step - Interactive elements leading into messages\r\n            // Receiver message - Mostly the same for both parties\r\n\r\n            var chatEvent = \"\";\r\n            //console.log(this.props.user_Chat)\r\n            if(this.props.user_Chat.chatEvent && this.props.user_Chat.chatEventDisp) {\r\n                const evt = this.props.user_Chat.chatEvent;\r\n                //console.log(evt.type)\r\n                if(evt.type === Consts.msgTypes.CE_FIGHT)\r\n                    chatEvent = <IBFightEngage \r\n                        eventData={evt} \r\n                        SendMessage={this.props.SendMessage} \r\n                        UpdateEventData={this.props.UpdateEventData} \r\n                        ClearEvent={this.props.ClearEvent} \r\n                        chatPtnrName={this.props.user_Chat.name} \r\n                    />;\r\n                else if(evt.type === Consts.msgTypes.CE_TRAP)\r\n                    chatEvent = <IBTrapEngage \r\n                        eventData={evt} \r\n                        SendMessage={this.props.SendMessage} \r\n                        UpdateEventData={this.props.UpdateEventData} \r\n                        ClearEvent={this.props.ClearEvent} \r\n                        chatPtnrName={this.props.user_Chat.name} \r\n                    />;\r\n            }\r\n\r\n            return (\r\n                <div className=\"h-100 d-flex flex-column justify-content-between\">\r\n                    <UserInfoBar ToPageUsers={this.props.ToPageUsers} user_Chat={this.props.user_Chat} user_Chat_Active={this.props.user_Chat_Active} />\r\n                    <div className=\"flex-grow-1 bg-secondary\">\r\n                        <div className=\"maxW1000 m-0Auto h-100 position-relative\">\r\n                            <ScrollToBottom className=\"FullSpreadAbsElem\" scrollViewClassName=\"pad10\">\r\n                                { \r\n                                    this.props.user_Chat.messages.map((message, i) => \r\n                                        <div className=\"innerScrollItem\" key={i}>\r\n                                            <Message message={message} chatPtnrName={this.props.user_Chat.name} />\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                                <div className=\"innerScrollItem\"> \r\n                                    {chatEvent}\r\n                                </div>\r\n                            </ScrollToBottom>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"bg-secondary\">\r\n                        <form className=\"maxW1000 m-0Auto d-flex align-items-stretch p-2\">\r\n                            <button className=\"btn noBorder bgLightBlue text-white mr-2\" onClick={this.ChooseIceBreaker} disabled={disabled}>\r\n                                <i className=\"fas fa-handshake fa-lg\"></i>\r\n                            </button>\r\n                            <input \r\n                                className=\"form-control form-control-lg flex-grow-1 noBorder\" \r\n                                type=\"text\" \r\n                                placeholder=\"message\" \r\n                                value={this.props.user_Chat_Active ? this.state.msgText : \"\"} \r\n                                onChange={(event) => this.setState({ msgText: event.target.value })} \r\n                                onKeyPress={event => event.key === \"Enter\" ? this.SendText(event) : null}\r\n                                disabled={disabled}\r\n                            />\r\n                            <button className=\"btn noBorder bg-white\" onClick={this.SendText} disabled={disabled}>\r\n                                <i className=\"fas fa-paper-plane fa-lg\"></i>\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n};\r\n\r\nexport default Chat;","import React, { Component } from 'react';\r\nimport * as Consts from '../Consts';\r\nimport Users from './Lobby/Users/Users';\r\nimport Chat from './Lobby/Chat/Chat';\r\n\r\nclass PageSelection extends Component {\r\n\r\n    state = {\r\n        page: Consts.pages.USERS,\r\n        users: [],\r\n        user_Chat: null\r\n    };\r\n\r\n    // socket\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        // All messaging is saved per user, and effects by the users page by way of a \"new message\" indicator, and of course the chat page.\r\n        props.socket.on(\"RecNewUser\", (user) => {\r\n            console.log(`Adding user: \"${user.id}\"`);\r\n            this.setState({ users: [...this.state.users, user] });\r\n        });\r\n        props.socket.on(\"RemoveUser\", (userID) => {\r\n            console.log(`Removing user: \"${userID}\"`);\r\n            let removeIndex = this.state.users.findIndex((user) => user.id === userID);\r\n\r\n            if(removeIndex === -1)\r\n                return;\r\n\r\n            this.state.users.splice(removeIndex, 1);\r\n            this.setState({ users: this.state.users });\r\n\r\n            //* In lieu of this, check if the user_Chat is still in the general users list, and if not, disable the chat features, but just leave the existing messages up.\r\n            // if(this.state.user_Chat)\r\n            //     if(this.state.user_Chat.id === userID)\r\n            //         this.setState({ user_Chat: null });\r\n        });\r\n        props.socket.on(\"RecLikeToggle\", (userData) => {\r\n            console.log(`Liked by user: \"${userData.socketID}\"`);\r\n            let changeIndex = this.state.users.findIndex((user) => user.id === userData.socketID);\r\n            this.state.users[changeIndex].likesMe = userData.likesMe;\r\n            this.setState({ users: this.state.users });\r\n        });\r\n\r\n        props.socket.emit(\"GetUsers\", {}, (users) => {\r\n            for(let i = 0; i < users.length; i++) {\r\n                console.log(`Adding users: \"${users[i].id}\"`);\r\n                //console.log(`User image src: \"${users[i].imgSrc}\"`);\r\n            }\r\n\r\n            this.setState({ users });\r\n        });\r\n\r\n        // TODO: Make only one call from the server, 'RecMessage'\r\n        // That call sends the chatPtnrID, a type, and data.\r\n        // The type is what kind of message (text, fight, trap, etc.)\r\n        // And the data will futher specify (test:message, ice breaker:details of which step they're on)\r\n        // Data sent to the message component, where it's read and deciphered and html is built\r\n\r\n        props.socket.on('RecMessage', (recObj) => {\r\n            //console.log(`Received message, type: \"${recObj.msgData.type}\" chatting with user: \"${recObj.msgData.chatPtnrID}\", with data:`, recObj.msgData.data);\r\n            \r\n            this.setState((prevState) => {\r\n\r\n                let changeIndex = prevState.users.findIndex(({ id }) => id === recObj.msgData.chatPtnrID);\r\n                const moddedMsgObj = { ...recObj.msgData, fromSelf: false };\r\n    \r\n                // Hold event in seperate container while it's running, and build messages up as it executes.\r\n                if(recObj.isEvent) {\r\n                    prevState.users[changeIndex].chatEvent = moddedMsgObj;\r\n                    prevState.users[changeIndex].chatEventDisp = true;\r\n                    prevState.users[changeIndex].disableSend = true;\r\n                }\r\n                else {\r\n                    prevState.users[changeIndex].messages.push(moddedMsgObj);\r\n                    prevState.users[changeIndex].chatEventDisp = false;\r\n                }\r\n\r\n                var unreadMsg = true;\r\n                if(this.state.user_Chat) {\r\n                    if(this.state.user_Chat.id === recObj.msgData.chatPtnrID)\r\n                        unreadMsg = false;\r\n                }\r\n\r\n                prevState.users[changeIndex].unreadMsg = unreadMsg\r\n    \r\n                return { \r\n                    users: prevState.users,\r\n                    user_Chat: unreadMsg === false ? prevState.users[changeIndex] : null\r\n                }\r\n            }); \r\n        });\r\n\r\n        props.socket.on('RecUpdateEvent', (recObj) => {\r\n            this.setState((prevState) => {\r\n                let changeIndex = prevState.users.findIndex(({ id }) => id === recObj.chatPtnrID);\r\n                var moddedMsgObj = { ...prevState.users[changeIndex].chatEvent, fromSelf: false };\r\n                moddedMsgObj.data = { ...moddedMsgObj.data, ...recObj.updatedData };\r\n\r\n                prevState.users[changeIndex].chatEvent = moddedMsgObj;\r\n                prevState.users[changeIndex].chatEventDisp = true;\r\n\r\n                return { \r\n                    users: prevState.users,\r\n                    user_Chat: prevState.users[changeIndex]\r\n                } \r\n            });\r\n        });\r\n\r\n        props.socket.on('RecClearEvent', (chatPtnrID) => {\r\n            this.setState((prevState) => {\r\n                let changeIndex = prevState.users.findIndex(({ id }) => id === chatPtnrID);\r\n                prevState.users[changeIndex].chatEvent = null;\r\n                prevState.users[changeIndex].disableSend = false;\r\n    \r\n                return { \r\n                    users: prevState.users,\r\n                    user_Chat: prevState.users[changeIndex]\r\n                } \r\n            });\r\n        });\r\n\r\n        this.ToPageUsers = this.ToPageUsers.bind(this);\r\n        this.LikeUserToggle = this.LikeUserToggle.bind(this);\r\n        this.ToPageChat = this.ToPageChat.bind(this);\r\n        this.SendMessage = this.SendMessage.bind(this);\r\n        this.UpdateEventData = this.UpdateEventData.bind(this);\r\n        this.ClearEvent = this.ClearEvent.bind(this);\r\n    }\r\n\r\n    ToPageUsers () {\r\n        this.setState({ \r\n            user_Chat: null, \r\n            page: Consts.pages.USERS \r\n        });\r\n    };\r\n\r\n    LikeUserToggle (userID, isLiked) {\r\n        this.props.socket.emit(\"LikeUserToggle\", { userID, isLiked });\r\n        this.setState(prevState => ({ \r\n            users: prevState.users.map((elem) => elem.id === userID ? {...elem, likeThem: isLiked } : elem)\r\n        }));\r\n    };\r\n\r\n    // User_chat being set from this param.\r\n    ToPageChat (user_Chat) {\r\n        this.setState(prevState => ({ \r\n            users: prevState.users.map((elem) => elem.id === user_Chat.id ? {...elem, unreadMsg: false } : elem),\r\n            user_Chat, \r\n            page: Consts.pages.CHAT \r\n        }));\r\n    }\r\n\r\n    // Update my own message view, not required from server\r\n    SendMessage (msgData, isEvent) {\r\n        \r\n        this.props.socket.emit('SendMessage', {\r\n            msgData: { ...msgData, chatPtnrID: this.state.user_Chat.id },\r\n            isEvent\r\n        });\r\n\r\n        this.setState((prevState) => {\r\n            \r\n            let changeIndex = prevState.users.findIndex(({ id }) => id === prevState.user_Chat.id);\r\n            const moddedMsgObj = { ...msgData, fromSelf: true };\r\n\r\n            if(isEvent) {\r\n                prevState.users[changeIndex].chatEvent = moddedMsgObj;\r\n                prevState.users[changeIndex].chatEventDisp = true;\r\n                prevState.users[changeIndex].disableSend = true;\r\n            }\r\n            else {\r\n                prevState.users[changeIndex].messages.push(moddedMsgObj);\r\n                prevState.users[changeIndex].chatEventDisp = false;\r\n            }\r\n\r\n            //console.log(prevState);\r\n\r\n            return { \r\n                users: prevState.users,\r\n                user_Chat: prevState.users[changeIndex]\r\n            } \r\n        });\r\n    }\r\n\r\n    // Update my own message view, not required from server\r\n    UpdateEventData (updatedData) {\r\n        this.props.socket.emit('UpdateEvent', { \r\n            updatedData,\r\n            chatPtnrID: this.state.user_Chat.id \r\n        });\r\n\r\n        this.setState((prevState) => {\r\n            \r\n            let changeIndex = prevState.users.findIndex(({ id }) => id === prevState.user_Chat.id);\r\n            var moddedMsgObj = { ...prevState.users[changeIndex].chatEvent, fromSelf: true };\r\n            moddedMsgObj.data = { ...moddedMsgObj.data, ...updatedData };\r\n\r\n            prevState.users[changeIndex].chatEvent = moddedMsgObj;\r\n            prevState.users[changeIndex].chatEventDisp = true;\r\n\r\n            console.log(prevState.users[changeIndex].chatEvent);\r\n\r\n            return { \r\n                users: prevState.users,\r\n                user_Chat: prevState.users[changeIndex]\r\n            } \r\n        });\r\n    }\r\n\r\n    // Update my own message view, not required from server\r\n    ClearEvent () {\r\n        this.props.socket.emit('ClearEvent', this.state.user_Chat.id);\r\n\r\n        this.setState((prevState) => {\r\n            \r\n            let changeIndex = prevState.users.findIndex(({ id }) => id === prevState.user_Chat.id);\r\n            prevState.users[changeIndex].chatEvent = null;\r\n            prevState.users[changeIndex].disableSend = false;\r\n\r\n            return { \r\n                users: prevState.users,\r\n                user_Chat: prevState.users[changeIndex]\r\n            } \r\n        });\r\n    }\r\n\r\n    render() {\r\n        //console.log(this.state);\r\n        if(this.state.page === Consts.pages.USERS)\r\n            return ( <Users users={this.state.users} LikeUserToggle={this.LikeUserToggle} ToPageChat={this.ToPageChat} /> );\r\n        else if(this.state.page === Consts.pages.CHAT) {\r\n            // Re-render if the user goes offline while being chatted with.\r\n            let user_Chat_Active = true;\r\n            if(this.state.user_Chat)\r\n                if(this.state.users.findIndex(({ id }) => id === this.state.user_Chat.id) === -1)\r\n                    user_Chat_Active = false;\r\n\r\n            return (<Chat \r\n                user_Chat={this.state.user_Chat}\r\n                user_Chat_Active={user_Chat_Active}\r\n                SendMessage={this.SendMessage}\r\n                UpdateEventData={this.UpdateEventData}\r\n                ClearEvent={this.ClearEvent}\r\n                ToPageUsers={this.ToPageUsers}\r\n            />);\r\n        }\r\n    }\r\n};\r\n\r\nexport default PageSelection;","import React from 'react';\r\n\r\nconst LoadBar = ({ percent }) => {\r\n\r\n    const barStyle = { width: percent + \"%\" };\r\n\r\n    return (\r\n        <div id=\"ImageUploadBar\" className=\"progress position-absolute h-100 w-100\">\r\n            <div role=\"progressbar\" className=\"progress-bar progress-bar-striped bg-success progress-bar-animated transitionNone\" style={barStyle} aria-valuenow={percent} aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LoadBar;","import React from 'react';\r\n\r\nimport LoadBar from './LoadBar';\r\n\r\nconst URL = window.URL || window.webkitURL;\r\nconst extArr = ['jpg', 'jpeg', 'png', 'gif'];\r\n\r\nconst ImgUpload = ({ GetImgDetails, imgSrc, orientation, isPortrait, disabled, willLoadFile, percent }) => {\r\n\r\n    const ImgChange = (event) => {\r\n        // Make sure only 1 file has been uploaded\r\n        if(event.target.files.length !== 1) {\r\n            alert(\"Can only use 1 photo at a time.\");\r\n            return;\r\n        }\r\n\r\n        // Make sure the file is an image\r\n        const fname = event.target.value;\r\n        const ext = fname.slice((fname.lastIndexOf(\".\") - 1 >>> 0) + 2);\r\n        if(extArr.indexOf(ext) === -1) {\r\n            alert('Image must have extension: jpg, jpeg, png, or gif');\r\n            return;\r\n        }\r\n\r\n        let file = event.target.files[0];\r\n\r\n        var img = new Image();\r\n        img.onload = () => { \r\n            console.log(\"img width: \" + img.width + \", height: \" + img.height);\r\n\r\n            //console.log(\"file:\", file);\r\n            //console.log(\"img.src:\", img.src);\r\n\r\n            GetImgDetails(ext, file, img.src, orientation, img.height > img.width);\r\n\r\n            // TAG: EXIF - Currently being handled by css {image-orientation: from-image;}, though this is still not widely supported.\r\n            // GetOrientation(file, function(orientation) {\r\n            //     // -2: not jpeg\r\n            //     // -1: not defined\r\n            //     console.log('orientation: ' + orientation);\r\n            //     GetImgDetails(ext, file, img.src, orientation, img.height > img.width);\r\n            // });\r\n        };\r\n        img.src = URL.createObjectURL(file);\r\n    };\r\n\r\n    const html_LoadBar = willLoadFile ? <LoadBar percent={percent} /> : \"\";\r\n    //console.log(`Main body called in ImgUpload.js`);\r\n\r\n    var imgTag = <img src={imgSrc} alt=\"User avatar\" className={isPortrait ? \"portrait\" : \"\"} />\r\n    // TAG: EXIF - Currently being handled by css {image-orientation: from-image;}, though this is still not widely supported.\r\n    // const UpdatedImg = (dataURL) => {\r\n    //     imgTag = <img src={dataURL} alt=\"User avatar\" className={isPortrait ? \"portrait\" : \"\"} />\r\n    //     console.log(`Image updated to correct orientation: ${orientation}`);\r\n    // }\r\n    // Consts.ResetOrientation(imgSrc, orientation, UpdatedImg)\r\n\r\n    return (\r\n        <div className=\"mt-2\">\r\n            {/* Container exists so that the image can keep it's aspect ratio and just can cut-off/masked by the container */}\r\n            <div id=\"AvatarSelected\" className=\"avatarsUserIdent rounded-circle mt-1 mb-1 mt-md-3 mb-md-3 mt-lg-5 mb-lg-5\">\r\n                {imgTag}\r\n            </div>\r\n\r\n            <input id=\"HiddenFileUploader\" placeholder=\"File\" className=\"d-none\" type=\"file\" accept=\"image/*\" capture=\"user\" onChange={ImgChange} disabled={disabled} />\r\n            {/* Clicking this button activates the hidden file button above.  */}\r\n            <button className=\"btn btn-secondary btn-lg btn-block mt-2 position-relative\" onClick={() => { document.getElementById(\"HiddenFileUploader\").click(); }} disabled={disabled}>\r\n                <span>Upload picture</span>\r\n                { html_LoadBar }\r\n            </button>\r\n        </div>\r\n    )\r\n\r\n};\r\n\r\nexport default ImgUpload;","import React from 'react';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\nimport './StyleOverride.css';\r\n\r\nimport Join from './components/Join';\r\n\r\n\r\nconst App = () => (\r\n    <Router>\r\n        <Route path=\"/*\" exact component={Join} />\r\n    </Router>\r\n);\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.querySelector('#root'));","module.exports = __webpack_public_path__ + \"static/media/SpeechlessGuy.8d8d757b.png\";"],"sourceRoot":""}